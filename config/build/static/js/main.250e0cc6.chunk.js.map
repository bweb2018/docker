{"version":3,"sources":["gelato/lib/util.js","gelato/lib/steps/python.js","gelato/lib/steps/index.js","gelato/lib/steps/git.js","gelato/lib/schema-validator.js","gelato/lib/schema-validation-error.js","gelato/lib/commands/version.js","gelato/lib/commands/from.js","gelato/lib/commands/shell.js","gelato/lib/commands/env.js","gelato/lib/commands/run.js","gelato/lib/steps/conda-install.js","gelato/lib/steps/custom.js","gelato/lib/steps/conda.js","gelato/lib/steps/hdfs.js","gelato/lib/commands/entrypoint.js","gelato/lib/index.js","components/button.jsx","models.js","content/steps/index.js","settingsEditor/visitors.js","settingsEditor/validator.js","config-utils.js","title.jsx","components/card.jsx","settingsEditor/settings/choiceGroup.jsx","settingsEditor/settings/textField.jsx","settingsEditor/settings/tableEditor.jsx","settingsEditor/settings/tagGroup.jsx","settingsEditor/index.jsx","content/editStep.jsx","content/dockers/index.js","content/addStep.jsx","content/editGeneral.jsx","content/editDocker.jsx","content/editDockerfile.jsx","content/index.jsx","sidebar/sidebar.jsx","App.jsx","index.js"],"names":["module","exports","writeBashrc","content","concat","aptInstall","_len","arguments","length","packages","Array","_key","join","appendToFile","file","_","require","util","availableVersions","install","type","build","step","version","toString","config","includes","Error","python","result","push","os","command","pip_install","pip","python3","requirements","isString","isArray","_i","_steps","clone","download","url","branch","isEmpty","tag","Ajv","configSchema","stepSchemas","SchemaValidationError","validate","addSchema","compile","errors","message","evalutionDetails","_this","Object","C_open_pi_dockerfile_generator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_open_pi_dockerfile_generator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","C_open_pi_dockerfile_generator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","call","validationDetails","name","base_docker","image_url","env_variables","entries","map","_ref","_ref2","C_open_pi_dockerfile_generator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","key","val","steps","run_steps","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","builder","step_type","isNil","apply","C_open_pi_dockerfile_generator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","err","return","x","pythonVersion","python_version","condaVersion","conda_version","osType","bit","envName","env_name","client_type","token","user","writeConfig","source_path","destination_path","entrypoint_steps","repeat","schemaValidator","commands","buildConfig","_commands","toConsumableArray","Button","className","disabled","dark","mild","onClick","children","others","objectWithoutProperties","react","assign","style","userSelect","C","defaultProps","PropTypes","availableOSs","stepCommand","id","isRequired","invalid","baseStepSetting","general","shell","workdir","custom","presetBase","stepToEdit","text","label","description","condition","textFieldSetting","objectSpread","regex","required","choiceOption","iconClass","choiceSetting","options","tableHeader","unique","tableSetting","headers","transform","tagGroupTag","tagList","tagGroupSetting","groupLabels","tags","stepSetting","availableBaseStep","configFinalize","defaultConfig","icon","availableSavedStep","author","baseType","createdAt","availableSteps","getStep","memoize","find","s","getStepSettings","foundAvailableStep","settingTransformDefinitions","field","setting","load","slicedToArray","save","fromPairs","pair","_ref3","flatarray","defineProperty","settings","values","isStep","newValues","cloneDeep","forEach","equals","currVal","every","RegExp","test","filter","col","uniq","row","ex","visitConfigSettings","visitorfn","newConfig","Settings","_map","_map2","configPreSave","Visitors","array","item","Title","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","state","loading","fileInput","React","handleFiles","bind","assertThisInitialized","_this2","onUpdate","current","files","setState","reader","FileReader","onload","e","data","yaml","target","uuid","Alert","error","position","readAsText","_this3","_this$props","onReset","onSwitchContent","margin","components_button","click","ref","accept","display","onChange","blob","Blob","FileSaver","saveAs","gelato","BaseDockerLIst","warning","selected","pointer","bg-white-80","bg-white hover-bg-white-90 ph4","bg-washed-red","ChoiceGroup","onPropChange","_this$props2","option","b--pd","b--pl","c-st","TextField","red","border","outline","backgroundColor","borderBottom","ba b--red","TableEditor","newVal","validateAndUpdate","splice","flatHeaders","gridTemplateColumns","idx","onRemoveRow","onAddRow","ResultSymbol","TagGroup","getReverseLookup","memoizeOne","values2parts","getTagTree","tree","parts","cur","part","getOrDefaultChosen","console","log","previousParts","_this$getOrDefaultCho","slice","reduce","node","rawChosen","_this$props3","chosen","newChosen","i","_Object$keys","keys","_Object$keys2","_this$props4","_loop","choiceGroup","SettingsEditor","res","textField_TextField","tableEditor_TableEditor","tagGroup_TagGroup","pt3","pt1","EditStep","onNameChange","submitChange","onConfigChange","configUpdate","editingStep","onSaveInfoChange","saveInfoUpdate","saveInfo","newSaveInfo","onLeaveSavingMode","saving","delete","stepListName","newStepList","findIndex","editingName","to","newStep","_this$state","baseStep","onBlur","settingsEditor_SettingsEditor","list","dockers","AddStep","selectedCard","editing","editingSavedStep","newSavedStep","onConfigSave","onEdit","cardId","savedStep","filteredSteps","index","stopPropagation","c","optional","aria-hidden","editStep","renderBaseStepList","EditGeneral","generalUpdate","ResetButton","EditDocker","isShow","getPreset","base","p","onPresetUpdate","newBaseDocker","update","onCustomUpdate","dockerUpdate","pred","baseDocker","a","preset","split","pop","onPresetChosen","editDocker_ResetButton","EditDockerfile","onCopy","switchColor","textArea","select","document","execCommand","onSave","createRef","react_default","createElement","height","maxHeight","spellCheck","Component","stepTypeTitle","add_run_step","add_entrypoint_step","edit_run_step","edit_entrypoint_step","edit_general","edit_docker","edit_dockerfile","Content","addRunStep","addEnStep","stepType","stepRunBool","stepEnBool","sharedProps","addStep","editGeneral_EditGeneral","editDocker","editDockerfile","initializeIcons","Bar","selectedKey","_onLinkClick","k","n","_this$props$config","addSteps","entrypointNewItems","runNewItems","ni","querySelectorAll","button","title","_this$props2$config","Nav","initialSelectedKey","onLinkClick","styles","root","width","link","whiteSpace","lineHeight","groups","links","isExpanded","dummyConfig","App","savedSteps","delFromDocker","localStorage","getItem","JSON","parse","setItem","stringify","run","onclick","hasInvalid","validateConfig","newContent","_this$state2","sidebar_sidebar","flexGrow","src_content","react_s_alert_default","stack","limit","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.250e0cc6.chunk.js","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nmodule.exports = {\n  writeBashrc: (content) => `echo \"${content}\" >> ~/.bashrc && source ~/.bashrc`,\n  aptInstall: (...packages) => `apt-get install -y --no-install-recommends ${packages.join(' ')}`,\n  appendToFile: (content, file) => `echo \"${content}\" >> ${file}`\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nconst _ = require('lodash')\nconst util = require('../util')\n\nconst availableVersions = [\n  '2',\n  '2.6',\n  '2.7',\n  '3',\n  '3.4',\n  '3.5',\n  '3.6',\n  '3.7'\n]\n\nfunction install (step) {\n  let version = _.toString(step.config.version) || '3.6'\n  if (!availableVersions.includes(version)) {\n    throw Error(`Invalid python version ${version}`)\n  }\n\n  if (version === '2') {\n    version = '2.7'\n  }\n\n  const python = `python${version}`\n  const result = [\n    util.aptInstall('wget', 'software-properties-common'),\n    'add-apt-repository ppa:deadsnakes/ppa',\n    'apt-get update',\n    util.aptInstall(python)\n  ]\n\n  if (version[0] === 3) {\n    result.push(\n      'wget -O ~/get-pip.py https://bootstrap.pypa.io/get-pip.py',\n      `${python} ~/get-pip.py`,\n      'pip install setuptools',\n      `ln -s /usr/bin/${python} /usr/local/bin/python`,\n      `ln -s /usr/bin/${python} /usr/local/bin/python3`\n    )\n  } else {\n    result.push(\n      'apt-get install -y --no-install-recommends python-pip',\n      'pip install setuptools',\n      `ln -s /usr/bin/${python} /usr/local/bin/python`\n    )\n  }\n\n  return result\n}\n\nfunction pipInstall (step) {\n  const pip = step.config.python3 ? 'pip3' : 'pip'\n  const result = [\n    `(${pip} -V || (echo \"Error: ${pip} is not installed\" && exit 1))`\n  ]\n  if (step.config.requirements && _.isString(step.config.requirements)) {\n    result.push(`${pip} install -r ${step.config.requirements}`)\n  }\n  if (step.config.packages && _.isArray(step.config.packages)) {\n    result.push(`${pip} install ${step.config.packages.join(' ')}`)\n  }\n  return result\n}\n\nmodule.exports = {\n  availableVersions,\n  install: {\n    type: 'install_python',\n    build: install,\n    os: ['ubuntu'],\n    command: ['run']\n  },\n  pip_install: {\n    type: 'pip_install',\n    build: pipInstall,\n    os: ['ubuntu'],\n    command: ['run', 'entrypoint']\n  }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nconst steps = [\n  require('./conda-install'),\n  require('./custom'),\n  require('./git').clone,\n  require('./git').install,\n  require('./conda'),\n  require('./python').install,\n  require('./python').pip_install,\n  require('./hdfs').download\n]\n\nconst result = {}\n\nfor (const step of steps) {\n  if (result[step.type]) {\n    throw Error(`Step ID ${step.type} is not unique.`)\n  }\n\n  result[step.type] = step\n}\n\nmodule.exports = result\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nconst _ = require('lodash')\n\nfunction install (step) {\n  return [\n    'apt-get install -y --no-install-recommends git'\n  ]\n}\n\nfunction clone (step) {\n  let result = install(step)\n\n  // clone\n  result.push(`git clone ${step.config.url}`)\n\n  // do not cd !\n  // const repoNameReg = /\\/([\\w.@:-~_]+?)(\\/)?(\\.git)?$/\n  // const repoName = repoNameReg.exec(step.config.url)[1]\n  // result.push(`cd ${repoName}`)\n\n  // branch\n  if (step.config.branch !== 'master') {\n    result.push(`git checkout ${step.config.branch}`)\n  }\n\n  // tag\n  if (!_.isEmpty(step.config.tag)) {\n    result.push(`git checkout tags/${step.config.tag}`)\n  }\n\n  return result\n}\n\nmodule.exports = {\n  clone: {\n    type: 'git_clone',\n    build: clone,\n    os: ['debian', 'ubuntu'],\n    command: ['run', 'entrypoint']\n  },\n  install: {\n    type: 'install_git',\n    build: install,\n    os: ['debian', 'ubuntu'],\n    command: ['run']\n  }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nconst Ajv = require('ajv')\nconst configSchema = require('../schemas/config_schema.json')\nconst stepSchemas = [\n  require('../schemas/conda_install.json'),\n  require('../schemas/custom_command.json'),\n  require('../schemas/git_clone.json'),\n  require('../schemas/hdfs_download.json'),\n  require('../schemas/install_conda.json'),\n  require('../schemas/install_git.json'),\n  require('../schemas/install_python.json'),\n  require('../schemas/pip_install.json')\n]\nconst SchemaValidationError = require('./schema-validation-error')\n\nfunction schemaValidator (config) {\n  const ajv = new Ajv()\n  const validate = ajv.addSchema(stepSchemas).compile(configSchema)\n  const valid = validate(config)\n  if (!valid) {\n    throw new SchemaValidationError(`The config validation is not passed.`, validate.errors)\n  }\n}\n\nmodule.exports = schemaValidator\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nclass SchemaValidationError extends Error {\n  constructor (message, evalutionDetails) {\n    super(message)\n    this.message = message\n    this.validationDetails = evalutionDetails\n    this.name = 'SchemaValidation'\n  }\n}\n\nmodule.exports = SchemaValidationError\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nfunction buildVersion (config) {\n  if (!config.version) {\n    return []\n  }\n\n  return [`# version: ${config.version}`]\n}\n\nmodule.exports = {\n  type: 'version',\n  build: buildVersion\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nfunction buildBase (config) {\n  if (!config.base_docker) {\n    throw new Error('No base docker in config file.')\n  }\n\n  return [`From ${config.base_docker.image_url}`]\n}\n\nmodule.exports = {\n  type: 'base_docker',\n  build: buildBase\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nmodule.exports = {\n  type: 'shell',\n  build: (config) => ['SHELL [\"/bin/bash\", \"-c\"]', 'ENV BASH_ENV=~/.bashrc']\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nfunction buildEnv (config) {\n  if (!config.env_variables) {\n    return []\n  }\n\n  return Object.entries(config.env_variables).map(\n    ([key, val]) => `ENV ${key}=\"${val}\"`\n  )\n}\n\nmodule.exports = {\n  type: 'env_variables',\n  build: buildEnv\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nconst _ = require('lodash')\nconst util = require('../util')\nconst steps = require('../steps')\n\nfunction buildSteps (config) {\n  if (_.isEmpty(config.run_steps)) {\n    return []\n  }\n\n  const result = [\n    'apt-get update',\n    util.aptInstall('apt-utils'),\n    'touch ~/.bashrc',\n    'mv ~/.bashrc ~/.bashrc.bak' // backup original bashrc to make user create new bashrc\n  ]\n\n  for (const step of config.run_steps) {\n    const builder = steps[step.step_type]\n    if (_.isNil(builder)) {\n      throw Error(`cannot find step builder: '${step.type}'`)\n    }\n    if (!builder.command.includes('run')) {\n      throw Error(`Step ${step.type} doesn't support RUN`)\n    }\n    if (!builder.os.includes(config.base_docker.os)) {\n      throw Error(`Step ${step.type} doesn't support ${config.base_docker.os} OS`)\n    }\n    result.push(...builder.build(step))\n  }\n  // append original bashrc to the end\n  result.push('cat ~/.bashrc.bak >> ~/.bashrc')\n\n  return result.map((x) => `RUN ${x}`)\n  // return [`RUN ${result.join(` && \\\\ \\n${' '.repeat(4)}`)}`]\n}\n\nmodule.exports = {\n  type: 'run_steps',\n  build: buildSteps\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nfunction buildCondaInstall (step) {\n  const packages = step.config.packages\n  return [`conda install ${packages.join(' ')}`]\n}\n\nmodule.exports = {\n  type: 'conda_install',\n  build: buildCondaInstall,\n  os: ['debian', 'ubuntu'],\n  command: ['run', 'entrypoint']\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nfunction build (step) {\n  return [step.config.command]\n}\n\nmodule.exports = {\n  type: 'custom_command',\n  build,\n  os: ['debian', 'ubuntu'],\n  command: ['run', 'entrypoint']\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nconst availableVersions = require('./python').availableVersions\nconst util = require('../util')\n\nfunction buildInstallConda (step) {\n  let pythonVersion = step.config.python_version || '3.6'\n  if (!availableVersions.includes(pythonVersion)) {\n    throw Error(`Invalid python version ${pythonVersion}`)\n  }\n  const condaVersion = step.config.conda_version || 'latest'\n  const osType = step.config.bit === '64' ? 'Linux-x86_64' : 'Linux-x86'\n  const result = [util.aptInstall('curl', 'wget', 'gnupg', 'bzip2')]\n  const envName = step.config.env_name || 'docker'\n  result.push(\n    `wget --quiet https://repo.anaconda.com/miniconda/Miniconda3-${condaVersion}-${osType}.sh -O ~/miniconda.sh`,\n    '/bin/bash ~/miniconda.sh -b -p /opt/conda',\n    'rm ~/miniconda.sh',\n    util.writeBashrc('export PATH=/opt/conda/bin:$PATH'),\n    `conda create --yes -n ${envName} python=${step.config.python_version}`,\n    util.writeBashrc(`source activate ${envName}`),\n    util.writeBashrc(`export PATH=/opt/conda/envs/${envName}/bin:$PATH`)\n  )\n\n  return result\n}\n\nmodule.exports = {\n  type: 'install_conda',\n  build: buildInstallConda,\n  os: ['debian', 'ubuntu'],\n  command: ['run']\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nconst _ = require('lodash')\nconst util = require('../util')\n\nfunction writeConfig (step) {\n  const result = []\n  const hdfsConfigFile = '~/.hdfscli.cfg'\n  result.push(\n    util.appendToFile('[global]', hdfsConfigFile),\n    util.appendToFile('default.alias = dev', hdfsConfigFile),\n    util.appendToFile('[dev.alias]', hdfsConfigFile)\n  )\n  if (step.config.client_type === 'TokenClient') {\n    if (_.isNil(step.config.token)) {\n      throw new Error(`step type ${step.type}: token client does not have token`)\n    }\n    result.push(\n      util.appendToFile('client = TokenClient', hdfsConfigFile),\n      util.appendToFile(`url = ${step.config.url}`, hdfsConfigFile),\n      util.appendToFile(`token = ${step.config.token}`, hdfsConfigFile)\n    )\n  } else {\n    result.push(\n      util.appendToFile('client = InsecureClient', hdfsConfigFile),\n      util.appendToFile(`url = ${step.config.url}`, hdfsConfigFile),\n      _.isNil(step.config.user) ? null : util.appendToFile(`user = ${step.config.user}`, hdfsConfigFile)\n    )\n  }\n\n  return result\n}\n\nfunction download (step) {\n  if (_.isNil(step.config.url)) {\n    throw new Error(`step type ${step.type}: hdfs does not have url`)\n  }\n  const result = [\n    `(pip -V || (echo \"Error: pip is not installed\" && exit 1))`,\n    'pip install hdfs'\n  ]\n  result.push(...writeConfig(step))\n  result.push(\n    `hdfscli download ${step.config.source_path} ${step.config.destination_path}`\n  )\n\n  return result\n}\n\nmodule.exports = {\n  download: {\n    type: 'hdfs_download',\n    build: download,\n    os: ['ubuntu'],\n    command: ['entrypoint']\n  }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nconst _ = require('lodash')\n\nconst steps = require('../steps')\n\nfunction buildSteps (config) {\n  if (_.isEmpty(config.entrypoint_steps)) {\n    return []\n  }\n\n  const result = []\n\n  for (const step of config.entrypoint_steps) {\n    const builder = steps[step.step_type]\n    if (_.isNil(builder)) {\n      throw Error(`cannot find step builder: '${step.type}'`)\n    }\n    if (!builder.command.includes('entrypoint')) {\n      throw Error(`Step ${step.type} doesn't support ENTRYPOINT`)\n    }\n    if (!builder.os.includes(config.base_docker.os)) {\n      throw Error(`Step ${step.type} doesn't support ${config.base_docker.os} OS`)\n    }\n    result.push(...builder.build(step))\n  }\n\n  return [`ENTRYPOINT ${result.join(` && \\\\ \\n${' '.repeat(11)}`)}`]\n}\n\nmodule.exports = {\n  type: 'entrypoint_steps',\n  build: buildSteps\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nconst schemaValidator = require('./schema-validator')\n\nconst commands = [\n  require('./commands/version'),\n  require('./commands/from'),\n  require('./commands/shell'),\n  require('./commands/env'),\n  require('./commands/run'),\n  require('./commands/entrypoint')\n]\n\nfunction buildConfig (config) {\n  schemaValidator(config)\n\n  const result = ['']\n\n  for (const builder of commands) {\n    result.push(...builder.build(config))\n    result.push('')\n  }\n\n  return result.join('\\n')\n}\n\nexport default buildConfig\n","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport C from 'classnames';\n\nconst Button = ({\n  className, dark, mild, disabled, onClick, children, ...others\n}) => (\n  disabled\n    ? (\n      <span\n        className={`pa2 c-st ${className}`}\n        style={{ userSelect: 'none' }}\n        {...others}\n      >\n        {children}\n      </span>\n    )\n    : (\n      <span\n        className={C('pa2 pointer ', className)}\n        style={{ userSelect: 'none' }}\n        onClick={onClick}\n        {...others}\n      >\n        {children}\n      </span>\n    )\n);\n\nButton.propTypes = {\n  disabled: PropTypes.bool,\n  dark: PropTypes.bool,\n  mild: PropTypes.bool,\n  onClick: PropTypes.func,\n  className: PropTypes.string,\n};\n\nButton.defaultProps = {\n  dark: false,\n  mild: false,\n  className: '',\n  disabled: false,\n  onClick: null,\n};\n\nexport default Button;\n","import * as PropTypes from 'prop-types';\nimport { availableOSs } from './content/settings';\n\nexport const os = PropTypes.oneOf(availableOSs);\nexport const stepCommand = PropTypes.oneOf(['run', 'entrypoint']);\n\nexport const step = PropTypes.shape({\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  invalid: PropTypes.bool,\n  config: PropTypes.object,\n});\n\nexport const config = PropTypes.shape({\n  version: PropTypes.string.isRequired,\n  general: PropTypes.shape({\n    name: PropTypes.string,\n    shell: PropTypes.string,\n    workdir: PropTypes.string,\n    env_variables: PropTypes.arrayOf(PropTypes.shape({\n      key: PropTypes.string,\n      value: PropTypes.string,\n    })).isRequired,\n    invalid: PropTypes.bool,\n  }),\n  base_docker: PropTypes.shape({\n    image_url: PropTypes.string,\n    os,\n    custom: PropTypes.bool,\n    presetBase: PropTypes.string,\n    invalid: PropTypes.bool,\n  }).isRequired,\n  run_steps: PropTypes.arrayOf(step).isRequired,\n  entrypoint_steps: PropTypes.arrayOf(step).isRequired,\n  invalid: PropTypes.bool,\n});\n\nexport const content = PropTypes.shape({\n  type: PropTypes.oneOf([\n    'add_run_step',\n    'add_entrypoint_step',\n    'edit_run_step',\n    'edit_entrypoint_step',\n    'edit_general',\n    'edit_docker',\n    'edit_dockerfile',\n  ]).isRequired,\n  stepToEdit: step,\n  text: PropTypes.string,\n});\n\nexport const baseStepSetting = {\n  label: PropTypes.node,\n  name: PropTypes.string.isRequired,\n  description: PropTypes.node,\n  condition: PropTypes.object,\n};\n\nexport const textFieldSetting = PropTypes.shape({\n  ...baseStepSetting,\n  type: PropTypes.oneOf(['text']).isRequired,\n  regex: PropTypes.string,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n});\n\nexport const choiceOption = PropTypes.shape({\n  iconClass: PropTypes.string,\n  name: PropTypes.string.isRequired,\n});\n\nexport const choiceSetting = PropTypes.shape({\n  ...baseStepSetting,\n  type: PropTypes.oneOf(['choice']).isRequired,\n  options: PropTypes.arrayOf(choiceOption).isRequired,\n});\n\nexport const tableHeader = PropTypes.oneOfType([\n  PropTypes.string,\n  PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    unique: PropTypes.bool,\n  }),\n]);\n\nexport const tableSetting = PropTypes.shape({\n  ...baseStepSetting,\n  type: PropTypes.oneOf(['table']).isRequired,\n  headers: PropTypes.arrayOf(tableHeader).isRequired,\n  transform: PropTypes.oneOf(['field', 'flatarray']),\n});\n\nexport const tagGroupTag = PropTypes.shape({\n  tagList: PropTypes.arrayOf(PropTypes.string).isRequired,\n  name: PropTypes.string.isRequired,\n});\n\nexport const tagGroupSetting = PropTypes.shape({\n  ...baseStepSetting,\n  type: PropTypes.oneOf(['tag-group']).isRequired,\n  groupLabels: PropTypes.arrayOf(PropTypes.node).isRequired,\n  tags: PropTypes.arrayOf(tagGroupTag).isRequired,\n});\n\nexport const stepSetting = PropTypes.oneOfType([\n  textFieldSetting,\n  choiceSetting,\n  tableSetting,\n  tagGroupSetting,\n]);\n\nexport const availableBaseStep = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  type: PropTypes.string.isRequired,\n  command: PropTypes.arrayOf(stepCommand).isRequired,\n  os: PropTypes.arrayOf(os).isRequired,\n  config: PropTypes.arrayOf(stepSetting),\n  configFinalize: PropTypes.func,\n  defaultConfig: PropTypes.object,\n  icon: PropTypes.string,\n});\n\nexport const availableSavedStep = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  baseType: PropTypes.string.isRequired,\n  createdAt: PropTypes.string.isRequired,\n  defaultConfig: PropTypes.object.isRequired,\n});\n\nexport const savedSteps = PropTypes.arrayOf(availableSavedStep);\n\nexport const availableStep = PropTypes.oneOf([\n  availableBaseStep,\n  availableSavedStep,\n]);\n","import { memoize } from 'lodash';\n\nimport condaInstall from './conda_install.json';\nimport installGit from './install_git.json';\nimport gitClone from './git_clone.json';\nimport installConda from './install_conda.json';\nimport installPython from './install_python.json';\nimport hdfsDownload from './hdfs_download.json';\nimport customCommand from './custom_command.json';\n\nexport const availableSteps = [\n  condaInstall,\n  installGit,\n  gitClone,\n  installConda,\n  installPython,\n  hdfsDownload,\n  customCommand,\n];\n\nexport function filterSteps(command, os) {\n  return availableSteps.filter(s => s.command.includes(command) && s.os.includes(os));\n}\n\nexport const getStep = memoize(type => availableSteps.find(s => s.type === type));\n\nexport const getStepSettings = memoize((type) => {\n  const foundAvailableStep = getStep(type);\n  if (!foundAvailableStep) {\n    throw new Error(`Missing step prototype for ${type}`);\n  }\n  return foundAvailableStep.config;\n});\n","import { cloneDeep, fromPairs } from 'lodash';\n\nconst settingTransformDefinitions = {\n  field: {\n    condition: (value, setting) => setting.type === 'table' && setting.headers.length === 2,\n    load: value => Object.entries(value).map(([key, val]) => ({ key, value: val })),\n    save: (value, setting) => fromPairs(\n      value.map(pair => setting.headers.map(({ name }) => pair[name])),\n    ),\n  },\n  flatarray: {\n    condition: (value, setting) => setting.type === 'table' && setting.headers.length === 1,\n    load: (value, setting) => value.map(val => ({ [setting.headers[0].name]: val })),\n    save: (value, setting) => value.map(val => val[setting.headers[0].name]),\n  },\n};\n\nexport const save = (settings, values, isStep) => {\n  const newValues = cloneDeep(values);\n  settings.forEach((setting) => {\n    if (setting.condition\n      && (isStep ? values.config : values)[setting.condition.name] !== setting.condition.equals) {\n      delete (isStep ? newValues.config : newValues)[setting.name];\n      return;\n    }\n    const transform = setting.transform && settingTransformDefinitions[setting.transform];\n    const currVal = isStep ? values.config[setting.name] : values[setting.name];\n    if (currVal !== undefined && transform && transform.condition(currVal, setting)) {\n      (isStep ? newValues.config : newValues)[setting.name] = transform.save(currVal, setting);\n    }\n  });\n  return newValues;\n};\n\nexport const load = (settings, values, isStep) => {\n  const newValues = cloneDeep(values);\n  settings.forEach((setting) => {\n    const transform = setting.transform && settingTransformDefinitions[setting.transform];\n    const currVal = isStep ? values.config[setting.name] : values[setting.name];\n    if (currVal !== undefined && transform && transform.condition(currVal, setting)) {\n      (isStep ? newValues.config : newValues)[setting.name] = transform.load(currVal, setting);\n    }\n  });\n  return newValues;\n};\n","import { uniq } from 'lodash';\n\nexport default function validate(settings, value) {\n  try {\n    if (Array.isArray(settings)) {\n      return settings.every((s) => {\n        if (s.condition && value[s.condition.name] !== s.condition.equals) {\n          return true;\n        }\n        return validate(s, value[s.name]);\n      });\n    }\n\n    if (settings.type === 'text') {\n      const { regex, required } = settings;\n      return (!required || value) && (!regex || new RegExp(regex).test(value));\n    }\n\n    if (settings.type === 'table') {\n      const { headers } = settings;\n      const uniqueColumns = headers.filter(\n        x => typeof x === 'object' && x.unique,\n      ).map(\n        x => x.name,\n      );\n      return uniqueColumns.every(\n        col => uniq(value.map(row => row[col])).length === value.length,\n      );\n    }\n\n    return true;\n  } catch (ex) {\n    return false;\n  }\n}\n","/* eslint-disable no-param-reassign */\nimport uuid from 'uuid';\nimport { getStepSettings } from './content/steps';\nimport * as Settings from './content/settings';\nimport * as Visitors from './settingsEditor/visitors';\nimport validate from './settingsEditor/validator';\n\n// visitorfn(settings, values, [isStep])\nexport function visitConfigSettings(config, visitorfn) {\n  const newConfig = {\n    version: config.version,\n  };\n  newConfig.general = visitorfn(Settings.general, config.general);\n  newConfig.base_docker = visitorfn(Settings.docker, config.base_docker);\n  [newConfig.run_steps, newConfig.entrypoint_steps] = [config.run_steps, config.entrypoint_steps]\n    .map(steps => steps\n      .map(step => visitorfn(getStepSettings(step.type), step, true)));\n  return newConfig;\n}\n\nexport function validateConfig(config) {\n  let hasInvalid = false;\n  const newConfig = visitConfigSettings(\n    config,\n    (settings, values, isStep) => {\n      const invalid = isStep\n        ? !validate(settings, values.config) || !values.name\n        : !validate(settings, values);\n      hasInvalid = hasInvalid || invalid;\n      return { ...values, invalid };\n    },\n  );\n  if (hasInvalid) {\n    newConfig.invalid = true;\n  }\n  return newConfig;\n}\n\nexport function configPreSave(config) {\n  const newConfig = visitConfigSettings(config, Visitors.save);\n  [newConfig.run_steps, newConfig.entrypoint_steps]\n    .forEach(array => array.forEach((item) => {\n      item.step_type = item.type;\n      delete item.type;\n      delete item.id;\n    }));\n  Object.assign(newConfig, newConfig.general);\n  delete newConfig.general;\n  return newConfig;\n}\n\nexport function configPostLoad(config) {\n  config.general = {};\n  ['name', 'shell', 'env_variables', 'workdir'].forEach((key) => {\n    config.general[key] = config[key];\n    delete config[key];\n  });\n  [config.run_steps, config.entrypoint_steps].forEach(array => array.forEach((item) => {\n    item.id = uuid();\n    item.type = item.step_type;\n    delete item.step_type;\n  }));\n  const newConfig = visitConfigSettings(config, Visitors.load);\n  return newConfig;\n}\n","import Alert from 'react-s-alert';\nimport FileSaver from 'file-saver';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport * as yaml from 'js-yaml';\n\nimport gelato from './gelato/lib/index';\nimport Button from './components/button';\nimport * as Models from './models';\nimport { configPostLoad, configPreSave } from './config-utils';\n\nexport default class Title extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n    };\n    this.fileInput = React.createRef();\n    this.handleFiles = this.handleFiles.bind(this);\n  }\n\n  handleFiles() {\n    const { onUpdate } = this.props;\n    const file = this.fileInput.current.files[0];\n    if (file) {\n      this.setState({\n        loading: true,\n      });\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const data = yaml.safeLoad(e.target.result);\n          // TODO: validation\n          onUpdate(configPostLoad(data));\n        } catch (ex) {\n          Alert.error(`The imported file is invalid: ${ex}`, { position: 'bottom-right' });\n        }\n        this.fileInput.current.value = null;\n        this.setState({\n          loading: false,\n        });\n      };\n      reader.readAsText(file);\n    }\n  }\n\n  render() {\n    const {\n      config, onReset, onSwitchContent, invalid,\n    } = this.props;\n    const { loading } = this.state;\n    return (\n      <div className=\"f3  h3 bg-white\">\n        <div className=\"pa3 flex justify-between items-center mw9\" style={{ margin: '0 auto' }}>\n          <div>Project Title</div>\n          <div className=\"f5\">\n            <Button\n              dark\n              onClick={onReset}\n              disabled={loading}\n            >\n              Reset\n            </Button>\n            <Button\n              dark\n              onClick={() => { this.fileInput.current.click(); }}\n              disabled={loading}\n            >\n              Import Config\n            </Button>\n            <input\n              ref={this.fileInput}\n              type=\"file\"\n              accept=\"text/x-yaml|application/json\"\n              style={{ display: 'none' }}\n              onChange={this.handleFiles}\n            />\n            <Button\n              dark\n              onClick={() => {\n                const blob = new Blob([yaml.safeDump(configPreSave(config))], { type: 'text/x-yaml' });\n                FileSaver.saveAs(blob, `${config.general.name}.yaml`);\n              }}\n            >\n              Export Config\n            </Button>\n            <Button\n              dark\n              className=\"dn\"\n              disabled={invalid}\n              onClick={() => {\n                try {\n                  onSwitchContent({\n                    type: 'edit_dockerfile',\n                    text: gelato(configPreSave(config)),\n                  });\n                } catch (ex) {\n                  Alert.error(`An error occured while generating Dockerfile: ${ex}`, { position: 'bottom-right' });\n                }\n              }}\n            >\n              Generate Dockerfile\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nTitle.propTypes = {\n  config: Models.config.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  onReset: PropTypes.func.isRequired,\n  onSwitchContent: PropTypes.func.isRequired,\n  invalid: PropTypes.bool,\n};\n\nTitle.defaultProps = {\n  invalid: false,\n};\n","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport C from 'classnames';\n\nconst BaseDockerLIst = ({\n  name,\n  warning,\n  onClick,\n  selected,\n  pointer,\n  children,\n  newConfig\n}) => {\n\n  return(\n      <div\n    className={C({\n      'bg-white-80': selected,\n      'bg-white hover-bg-white-90 ph4': !selected && !warning,\n      'bg-washed-red': warning,\n      pointer,\n    }, 'h3 pa3 flex items-center justify-between')}\n    style={{ userSelect: 'none' }}\n    onClick={onClick}\n  >\n    <div className=\"flex\">\n      <div>{name}</div>\n    </div>\n    <div>\n      {warning && <i className=\"f4 dark-red fa fa-exclamation-triangle\" />}\n      {children}\n    </div>\n  </div>\n)};\n\nBaseDockerLIst.propTypes = {\n  name: PropTypes.node.isRequired,\n  icon: PropTypes.string,\n  onClick: PropTypes.func,\n  warning: PropTypes.bool,\n  selected: PropTypes.bool,\n  pointer: PropTypes.bool,\n  children: PropTypes.node,\n  newConfig: PropTypes.object\n};\n\nBaseDockerLIst.defaultProps = {\n  icon: '',\n  onClick: () => {},\n  selected: false,\n  pointer: false,\n  warning: false,\n  children: null,\n};\n\nexport default BaseDockerLIst;\n","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport C from 'classnames';\n\nimport * as models from '../../models';\n\nclass ChoiceGroup extends React.Component {\n  componentDidMount() {\n    this.onPropChange();\n  }\n\n  componentDidUpdate() {\n    this.onPropChange();\n  }\n\n  onPropChange() {\n    const { onUpdate, options, value } = this.props;\n    if (!options || !options.length) {\n      throw new Error('invalid options');\n    }\n    if (!value || !options.find(x => x.name === value)) {\n      onUpdate(options[0].name);\n    }\n  }\n\n  render() {\n    const {\n      label, options, onUpdate, value, disabled,\n    } = this.props;\n    return (\n      <>\n        <div>{label}</div>\n        <div className=\"pt2 pl0\">\n          {\n            options.map(option => (\n              <div\n                key={option.name}\n                className={C({\n                  'b--pd': value === option.name,\n                  'b--pl': value !== option.name,\n                  'c-st': disabled,\n                  pointer: !disabled,\n                }, 'bg-black-05 ba dib mr2 mb1 pv1 ph2')}\n                style={{ userSelect: 'none' }}\n                onClick={disabled ? null : (() => onUpdate(option.name))}\n              >\n                {option.iconClass && <i className={C(option.iconClass, 'mr1')} />}\n                {option.name}\n              </div>\n            ))\n          }\n        </div>\n      </>\n    );\n  }\n}\n\nChoiceGroup.propTypes = {\n  label: PropTypes.node.isRequired,\n  options: PropTypes.arrayOf(models.choiceOption).isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  value: PropTypes.string,\n  disabled: PropTypes.bool,\n};\n\nChoiceGroup.defaultProps = {\n  value: '',\n  disabled: false,\n};\n\nexport default ChoiceGroup;\n","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport C from 'classnames';\n\nexport default class TextField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      invalid: !props.validate(props.value),\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e) {\n    const { onUpdate, validate } = this.props;\n    const { value } = e.target;\n    if (validate(value)) {\n      this.setState({ invalid: false });\n    } else {\n      this.setState({ invalid: true });\n    }\n    onUpdate(value);\n  }\n\n  render() {\n    const { invalid } = this.state;\n    const { value, label, disabled } = this.props;\n    return (\n      <>\n        <div className={C({ red: invalid })}>{label}</div>\n        {\n          !disabled\n            ? (\n              <input\n                style={{ border: 0, outline: 0, borderBottom: '1px solid #cdecff' }}\n                className={C({ 'ba b--red': invalid }, 'w-20 ')}\n                value={value}\n                onChange={this.onChange}\n              />\n            )\n            : (\n              <input\n                style={{ border: 0, outline: 0, backgroundColor: 'white', borderBottom: '2px solid #cdecff' }}\n                className='w-20 '\n                disabled\n                value={value}\n              />\n            )\n        }\n      </>\n    );\n  }\n}\n\nTextField.propTypes = {\n  label: PropTypes.node.isRequired,\n  value: PropTypes.string,\n  onUpdate: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  validate: PropTypes.func.isRequired,\n};\n\nTextField.defaultProps = {\n  value: '',\n  disabled: false,\n};\n","import C from 'classnames';\nimport { cloneDeep } from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport * as models from '../../models';\nimport Button from '../../components/button';\n\nexport default class TableEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      invalid: !props.validate(props.value),\n    };\n  }\n\n  onChange(row, col, val) {\n    const { value } = this.props;\n    const newVal = cloneDeep(value);\n    newVal[row][col] = val;\n    this.validateAndUpdate(newVal);\n  }\n\n  onAddRow() {\n    const { value } = this.props;\n    const newVal = cloneDeep(value);\n    newVal.push({});\n    this.validateAndUpdate(newVal);\n  }\n\n  onRemoveRow(row) {\n    const { value } = this.props;\n    const newVal = cloneDeep(value);\n    newVal.splice(row, 1);\n    this.validateAndUpdate(newVal);\n  }\n\n  validateAndUpdate(newVal) {\n    const { onUpdate, validate } = this.props;\n    if (validate(newVal)) {\n      this.setState({ invalid: false });\n    } else {\n      this.setState({ invalid: true });\n    }\n    onUpdate(newVal);\n  }\n\n  render() {\n    const { invalid } = this.state;\n    const {\n      label, value, headers, disabled,\n    } = this.props;\n    const flatHeaders = headers.map(x => (\n      typeof x === 'object' ? x.name : x\n    ));\n\n    return (\n      <>\n        <div className={C({ red: invalid })}>\n          {label}\n        </div>\n        <div\n          style={{\n            display: 'grid',\n            gridTemplateColumns: `repeat(${flatHeaders.length}, auto) min-content`,\n          }}\n\n          className=\"pv2 w-50 mb4\"\n        >\n          {flatHeaders.map((x => (\n            <div key={`header-${x}`} className=\"pb2\">\n              {x}\n            </div>\n          )))}\n          <div />\n          {value.map((row, idx) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <React.Fragment key={idx}>\n              {flatHeaders.map(col => (\n                <input\n                  // eslint-disable-next-line react/no-array-index-key\n                  key={col + idx}\n                  className=\"ph2 pv1 w-90\"\n                  value={row[col] || ''}\n                  type=\"text\"\n                  onChange={e => this.onChange(idx, col, e.target.value)}\n                  disabled={disabled}\n                />\n              ))}\n              <Button\n                // eslint-disable-next-line react/no-array-index-key\n                key={idx}\n                onClick={() => this.onRemoveRow(idx)}\n                disabled={disabled}\n              >\n                <i className=\"fa fa-remove\" />\n              </Button>\n            </React.Fragment>\n          ))}\n        </div>\n        <div className=\"mt1\">\n          <Button onClick={() => this.onAddRow()} disabled={disabled}>\n            <i className=\"fa fa-plus mr1\" />\n            <span>Add</span>\n          </Button>\n        </div>\n      </>\n    );\n  }\n}\n\nTableEditor.propTypes = {\n  label: PropTypes.node.isRequired,\n  headers: PropTypes.arrayOf(models.tableHeader).isRequired,\n  // eslint-disable-next-line\n  value: PropTypes.array,\n  onUpdate: PropTypes.func.isRequired,\n  validate: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n\nTableEditor.defaultProps = {\n  value: [],\n  disabled: false,\n};\n","import memoizeOne from 'memoize-one';\nimport * as PropTypes from 'prop-types';\nimport { cloneDeep } from 'lodash';\nimport * as React from 'react';\nimport ChoiceGroup from './choiceGroup';\nimport { tagGroupTag } from '../../models';\n\nconst ResultSymbol = Symbol('Result');\n\nexport default class TagGroup extends React.Component {\n  getReverseLookup = memoizeOne((tags) => {\n    const values2parts = {};\n    tags.forEach((x) => {\n      values2parts[x.name] = x.tagList;\n    });\n    return values2parts;\n  });\n\n  getTagTree = memoizeOne((tags) => {\n    const tree = {};\n    tags.forEach((x) => {\n      const parts = x.tagList;\n      let cur = tree;\n      parts.forEach((part) => {\n        if (!cur[part]) {\n          cur[part] = {};\n        }\n        cur = cur[part];\n      });\n      cur[ResultSymbol] = x.name;\n    });\n\n    return tree;\n  });\n\n  componentDidMount() {\n    const { onUpdate, value } = this.props;\n    if (!value) {\n      onUpdate(this.getOrDefaultChosen().result);\n    }\n  }\n\n  onChange(idx, val) {\n    console.log(idx,val)\n    const { onUpdate, tags, value } = this.props;\n    const previousParts = (value && this.getReverseLookup(tags)[value]) || [];\n    const { parts, result } = this.getOrDefaultChosen([...previousParts.slice(0, idx), val]);\n    onUpdate(result || parts.reduce(\n      (node, part) => node[part],\n      this.getTagTree(tags),\n    )[ResultSymbol]);\n  }\n\n  getOrDefaultChosen(rawChosen) {\n    const { groupLabels, tags } = this.props;\n    const chosen = rawChosen || [];\n    if (chosen.length < groupLabels.length) {\n      let cur = this.getTagTree(tags);\n      const newChosen = cloneDeep(chosen);\n      for (let i = 0; i < groupLabels.length; i += 1) {\n        if (!newChosen[i]) {\n          [newChosen[i]] = Object.keys(cur);\n        }\n        cur = cur[newChosen[i]];\n      }\n      return { parts: newChosen, result: cur[ResultSymbol] };\n    }\n    return { parts: chosen };\n  }\n\n  render() {\n    const {\n      label, value, groupLabels, tags, disabled,\n    } = this.props;\n\n    const { parts } = this.getOrDefaultChosen((value && this.getReverseLookup(tags)[value]) || []);\n    const content = [];\n    let cur = this.getTagTree(tags);\n    for (let i = 0; i < groupLabels.length; i += 1) {\n      content.push(\n        <div className=\"pt3 pb1 f6\">\n          <ChoiceGroup\n            key={groupLabels[i]}\n            label={groupLabels[i]}\n            options={Object.keys(cur).map(x => ({ name: x }))}\n            value={parts[i]}\n            onUpdate={val => this.onChange(i, val)}\n            disabled={disabled}\n          />\n        </div>,\n      );\n      cur = cur[parts[i]];\n    }\n\n    return (\n      <>\n        <div>\n          {label}\n        </div>\n        <div>\n          {content}\n        </div>\n      </>\n    );\n  }\n}\n\nTagGroup.propTypes = {\n  label: PropTypes.node.isRequired,\n  groupLabels: PropTypes.arrayOf(PropTypes.node).isRequired,\n  tags: PropTypes.arrayOf(tagGroupTag).isRequired,\n  value: PropTypes.string,\n  onUpdate: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n\nTagGroup.defaultProps = {\n  value: '',\n  disabled: false,\n};\n","import C from 'classnames';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport * as models from '../models';\nimport ChoiceGroup from './settings/choiceGroup';\nimport TextField from './settings/textField';\nimport TableEditor from './settings/tableEditor';\nimport TagGroup from './settings/tagGroup';\nimport validate from './validator';\n\nexport default class SettingsEditor extends React.Component {\n  onUpdate(key, value) {\n    const { onUpdate } = this.props;\n    const res = {};\n    res[key] = value;\n    onUpdate(res);\n  }\n\n  render() {\n    const { settings, value, disabled } = this.props;\n    return settings.map((setting, i) => {\n      let { label } = setting;\n      if (!label) {\n        label = setting.name;\n      }\n      if (setting.condition && value[setting.condition.name] !== setting.condition.equals) {\n        return null;\n      }\n      let content = null;\n      switch (setting.type) {\n        case 'text':\n          content = (\n            <TextField\n              label={label}\n              value={value[setting.name]}\n              onUpdate={val => this.onUpdate(setting.name, val)}\n              validate={val => validate(setting, val)}\n              disabled={setting.disabled || disabled}\n            />\n          );\n          break;\n        case 'choice':\n          content = (\n            <ChoiceGroup\n              label={label}\n              value={value[setting.name]}\n              onUpdate={val => this.onUpdate(setting.name, val)}\n              options={setting.options}\n              disabled={disabled}\n            />\n          );\n          break;\n        case 'table':\n          content = (\n            <TableEditor\n              label={label}\n              value={value[setting.name]}\n              onUpdate={val => this.onUpdate(setting.name, val)}\n              validate={val => validate(setting, val)}\n              headers={setting.headers}\n              disabled={disabled}\n            />\n          );\n          break;\n        case 'tag-group':\n          content = (\n            <TagGroup\n              label={label}\n              value={value[setting.name]}\n              onUpdate={val => this.onUpdate(setting.name, val)}\n              groupLabels={setting.groupLabels}\n              tags={setting.tags}\n              disabled={disabled}\n            />\n          );\n          break;\n        default:\n          throw new Error(`invalid setting type ${setting.type}`);\n      }\n      return (\n        <div\n          className={C({ pt3: i > 0, pt1: i === 0 }, 'pt3 pb3 f6 bt b--near-white')}\n          key={setting.name}\n        >\n          {content}\n          <div className='bt b--near-white'></div>\n        </div>\n      );\n    });\n  }\n}\n\nSettingsEditor.propTypes = {\n  settings: PropTypes.arrayOf(models.stepSetting).isRequired,\n  // eslint-disable-next-line\n  value: PropTypes.object.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n\nSettingsEditor.defaultProps = {\n  disabled: false,\n};\n","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { cloneDeep } from 'lodash';\nimport C from 'classnames';\n\nimport * as Models from '../models';\nimport Button from '../components/button';\nimport SettingsEditor from '../settingsEditor';\nimport { getStepSettings, getStep } from './steps';\nimport * as Settings from './settings';\nimport validate from '../settingsEditor/validator';\n\nclass EditStep extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editingName: !props.stepToEdit.name,\n      saving: false,\n      saveInfo: { invalid: true },\n    };\n  }\n\n  get editingStep() {\n    const { stepToEdit, config, type } = this.props;\n    console.log(type)\n    const list = config[`${type}_steps`];\n    console.log(list)\n    return list.find(item =>  item.id === stepToEdit.id)\n  }\n\n  onNameChange = (e) => {\n    this.submitChange(e.target.name, e.target.value);\n  }\n\n  onConfigChange = (configUpdate) => {\n    this.submitChange('config', { ...this.editingStep.config, ...configUpdate });\n  }\n\n  onSaveInfoChange = (saveInfoUpdate) => {\n    const { saveInfo } = this.state;\n    const newSaveInfo = { ...cloneDeep(saveInfo), ...saveInfoUpdate };\n    newSaveInfo.invalid = !validate(Settings.saveStep, newSaveInfo);\n    this.setState({ saveInfo: newSaveInfo });\n  }\n\n\n  onLeaveSavingMode = () => {\n    this.setState({ saving: false });\n  }\n\n  delete = () => {\n    const {\n      onUpdate, config, type, stepToEdit, onSwitchContent,\n    } = this.props;\n\n    const stepListName = `${type}_steps`;\n    const newStepList = cloneDeep(config[stepListName]);\n    const idx = newStepList.findIndex(item => item.id === stepToEdit.id);\n    newStepList.splice(idx, 1);\n    onUpdate({ [stepListName]: newStepList });\n\n    if (!newStepList.length) {\n      onSwitchContent({ type: 'edit_general' });\n    } else if (idx === newStepList.length) {\n      onSwitchContent({ type: `edit_${type}_step`, stepToEdit: newStepList[idx - 1] });\n    } else {\n      onSwitchContent({ type: `edit_${type}_step`, stepToEdit: newStepList[idx] });\n    }\n  }\n\n  save = () => {\n    this.onLeaveSavingMode();\n  }\n\n  submitChange(name, to) {\n    const { onUpdate, config, type } = this.props;\n    const newStep = cloneDeep(this.editingStep);\n    newStep[name] = to;\n\n    const stepListName = `${type}_steps`;\n    const newStepList = cloneDeep(config[stepListName]);\n    newStepList[newStepList.findIndex(item => item.id === newStep.id)] = newStep;\n    onUpdate({ [stepListName]: newStepList });\n  }\n\n  render() {\n    const { editingStep, state: { editingName, saving, saveInfo } } = this;\n    const baseStep = editingStep ? getStep(editingStep.type) : '';\n    return (\n        baseStep ? <div className=\"bg-white pa3 bt b--near-white ml3\">\n        <div className=\"mt2 fr\">\n          <Button onClick={this.delete}>\n            <i className=\"fa fa-trash mr1\" />\n            Delete\n          </Button>\n        </div>\n        <div className=\"f3 mv2\">\n          {\n            editingName ? (\n              <input\n                name=\"name\"\n                className={C({ 'ba b--red': !editingStep.name })}\n                onChange={this.onNameChange}\n                onBlur={() => editingStep.name && this.setState({ editingName: false })}\n                value={editingStep.name}\n              />\n            ) : (\n              <>\n                <span>{editingStep.name}</span>\n                <i\n                  className=\"f5 ml2 fa fa-edit hover-black-70 pointer dn\"\n                  onClick={() => this.setState({ editingName: true })}\n                />\n              </>\n            )\n          }\n        </div>\n        {baseStep.name !== editingStep.name && (\n          <div className=\"c-st mv2\">(Base step: {baseStep.name})</div>\n        )}\n        {saving && (\n          <>\n            <SettingsEditor\n              settings={Settings.saveStep}\n              onUpdate={this.onSaveInfoChange}\n              value={saveInfo}\n            />\n            <div className=\"flex justify-between\">\n              <div>\n                <Button className=\"dib mt2\" onClick={this.onLeaveSavingMode}>\n                  <i className=\"fa fa-times mr1\" />\n                  Cancel\n                </Button>\n              </div>\n              <div>\n                <Button className=\"dib mt2\" onClick={this.save} disabled={saveInfo.invalid}>\n                  <i className=\"fa fa-save mr1\" />\n                  Save\n                </Button>\n              </div>\n            </div>\n            <hr />\n          </>\n        )}\n        <SettingsEditor\n          settings={getStepSettings(editingStep.type)}\n          onUpdate={this.onConfigChange}\n          value={editingStep.config}\n          disabled={saving}\n        />\n    </div> : <div></div>\n    );\n  }\n}\n\nEditStep.propTypes = {\n  config: Models.config.isRequired,\n  type: Models.stepCommand.isRequired,\n  stepToEdit: Models.step.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  onSwitchContent: PropTypes.func.isRequired,\n};\n\nexport default EditStep;\n","import ubuntu from './ubuntu.json';\nimport cuda from './cuda.json';\nimport tensorflow from './tensorflow.json';\nimport deepo from './deepo.json';\n\nexport default [\n  ubuntu,\n  cuda,\n  tensorflow,\n  deepo,\n];\n","import { cloneDeep } from 'lodash';\nimport uuid from 'uuid';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport BaseDockerLIst from '../components/card';\nimport EditStep from './editStep';\nimport * as Models from '../models';\nimport { filterSteps, getStepSettings } from './steps';\nimport Button from '../components/button';\nimport validate from '../settingsEditor/validator';\nimport dockers from \"./dockers\";\n\nclass AddStep extends React.Component {\n  state = {\n    selectedCard: '',\n    editing: false,\n    editingSavedStep: {},\n  };\n\n  onSelect(cardId) {\n    this.setState({ selectedCard: cardId, editingSavedStep: {}, editing: false });\n  }\n\n  onEdit(savedStep) {\n    if (!savedStep) {\n      this.setState({ editingSavedStep: {}, editing: false });\n    } else {\n      this.setState({ editingSavedStep: savedStep, editing: true });\n    }\n  }\n\n  onConfigChange = (configUpdate) => {\n    const { editingSavedStep } = this.state;\n    const newSavedStep = cloneDeep(editingSavedStep);\n    newSavedStep.defaultConfig = { ...newSavedStep.defaultConfig, ...configUpdate };\n    newSavedStep.defaultConfig.invalid = !validate(\n      getStepSettings(editingSavedStep.baseType),\n      newSavedStep.defaultConfig,\n    );\n    this.setState({ editingSavedStep: newSavedStep });\n  }\n\n  onConfigSave = () => {\n    this.onEdit(null);\n  }\n\n  renderBaseStepList(filteredSteps) {\n    const { content, config, type, onUpdate, onSwitchContent} = this.props;\n    const { selectedCard } = this.state;\n    return (\n        <ul className={'list pl4'}>\n      {filteredSteps.map((item, index) => <li className={'cb pv3 bt b--near-white '} key={index}><span className={'pointer h3 mv7 '}  onClick={(e) => {\n        e.stopPropagation();\n        const stepListName = `${type}_steps`;\n        const step = {\n          id: uuid(),\n          name: item.name,\n          type: item.type,\n          config: item.defaultConfig || {},\n        };\n        if (item.config && !item.config.every(c => c.optional)) {\n          step.invalid = true;\n        }\n        const newStepList = cloneDeep(config[stepListName]);\n        newStepList.push(step);\n        onUpdate({ [stepListName]: newStepList },(item,type)=> {\n          if(type){\n            onSwitchContent({ type: 'add_run_step', stepToEdit: item })\n          }else {\n            onSwitchContent({ type: 'add_entrypoint_step', stepToEdit: item })\n          }\n        });\n      }}>{ item.name }</span>\n        <i className={content.stepToEdit && content.stepToEdit.type === item.type? \"fr f7 ms-Icon ms-Icon--ChevronUpMed black-30\" : \"fr f7 ms-Icon ms-Icon--ChevronDownMed black-30\"} aria-hidden=\"true\" />\n        {content.stepToEdit && content.stepToEdit.type === item.type? <EditStep\n            type=\"run\"\n            key={content.stepToEdit.id}\n            stepToEdit={content.stepToEdit}\n            onUpdate={onUpdate}\n            {...this.props}\n        /> : ''}\n      </li> )}\n    </ul>\n    )\n    // filteredSteps.map((item) => {\n    //   const card = (\n    //\n    //   );\n    //   if (selectedCard === item.type) {\n    //     return <>\n    //       {card}\n    //       <div className=\"f6 c-st ph3 pb3 bg-white-80\">\n    //         Description: <span className=\"c-pt\">{item.description || item.name}</span>\n    //       </div>\n    //     </>;\n    //   }\n    //   return card;\n    // });\n  }\n\n  render() {\n\n    const { config, type, content} = this.props;\n    const filteredSteps = filterSteps(type, config.base_docker.os);\n    return (\n      <div>\n        {this.renderBaseStepList(filteredSteps)}\n      </div>\n    );\n  }\n}\n\nAddStep.propTypes = {\n  content: Models.content.isRequired,\n  config: Models.config.isRequired,\n  type: Models.stepCommand.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  onSwitchContent: PropTypes.func.isRequired\n};\n\nexport default AddStep;\n// <BaseDockerLIst\n//     key={item.type}\n//     name={item.name}\n//     selected={item.type === selectedCard}\n//     pointer\n//     icon={item.icon || 'fa fa-terminal'}\n//     onClick={(e) => {\n//       e.stopPropagation();\n//       const stepListName = `${type}_steps`;\n//       const step = {\n//         id: uuid(),\n//         name: item.name,\n//         type: item.type,\n//         config: item.defaultConfig || {},\n//       };\n//       if (item.config && !item.config.every(c => c.optional)) {\n//         step.invalid = true;\n//       }\n//       const newStepList = cloneDeep(config[stepListName]);\n//       newStepList.push(step);\n{/*      onUpdate({ [stepListName]: newStepList },(item)=> console.log(item));*/}\n\n{/*    }}*/}\n\n{/*>*/}\n\n{/*</BaseDockerLIst>*/}\n","import { cloneDeep } from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport * as Models from '../models';\nimport SettingsEditor from '../settingsEditor';\nimport * as Settings from './settings';\n\nexport default class EditGeneral extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(generalUpdate) {\n    const { config, onUpdate } = this.props;\n    onUpdate({ general: { ...cloneDeep(config.general), ...generalUpdate } });\n  }\n\n  render() {\n    const { config } = this.props;\n    return (\n      <div className=\"ph4 bg-white pa3 pt0 f6\">\n        <SettingsEditor\n          settings={Settings.general}\n          value={config.general}\n          onUpdate={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n\nEditGeneral.propTypes = {\n  config: Models.config.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n};\n","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { cloneDeep, memoize } from 'lodash';\n\nimport * as Models from '../models';\nimport Button from '../components/button';\nimport SettingsEditor from '../settingsEditor';\nimport dockers from './dockers';\nimport * as Settings from './settings';\nimport { getStep } from './steps';\nimport {validateConfig} from \"../config-utils\";\n\nconst ResetButton = ({ onClick, index, id}) => (<Button className=\"fr\" onClick={onClick} >\n    { <i className={ index === id ? \"fr f7 ms-Icon ms-Icon--ChevronUpMed black-30\" : \"f7 ms-Icon ms-Icon--ChevronDownMed black-30\"} aria-hidden=\"true\" /> }\n</Button>);\n\n    ResetButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n  };\n\n    class EditDocker extends React.Component {\n    state ={\n      id: '',\n      isShow: true\n    }\n    getPreset = memoize(base => dockers.find(p => p.base === base));\n\n    onPresetChosen(to, index) {\n    const {id} = this.state\n    this.setState({\n    id: index,\n  })\n    let newBaseDocker;\n    if (!to) {\n    newBaseDocker = {};\n  } else if (to === 'Custom') {\n    newBaseDocker = {\n    custom: true,\n  };\n  } else {\n    newBaseDocker = {\n    presetBase: to.base,\n  };\n  }\n      console.log(newBaseDocker)\n    this.update(newBaseDocker);\n  }\n\n    onPresetUpdate = ({ tag }) => {\n    const { config } = this.props;\n    const newBaseDocker = cloneDeep(config.base_docker);\n    newBaseDocker.image_url = `${newBaseDocker.presetBase}:${tag}`;\n    newBaseDocker.os = 'ubuntu';\n    this.update(newBaseDocker);\n  }\n\n    onCustomUpdate = (dockerUpdate) => {\n    const { config } = this.props;\n    this.update({ ...cloneDeep(config.base_docker), ...dockerUpdate });\n  }\n\n    update(newBaseDocker) {\n    const { onUpdate, config } = this.props;\n    if (newBaseDocker.os) {\n    const pred = s => getStep(s.type).os.includes(newBaseDocker.os);\n    onUpdate({\n    run_steps: config.run_steps.filter(pred),\n    entrypoint_steps: config.entrypoint_steps.filter(pred),\n    base_docker: newBaseDocker,\n  });\n  } else {\n    onUpdate({\n    base_docker: newBaseDocker,\n  });\n  }\n  }\n\n    render() {\n    const { config: { base_docker: baseDocker } } = this.props;\n    const { id } = this.state\n    if (baseDocker.custom) {\n    this.a = <div className=\"bg-white pa3\">\n    <div className=\"f3 mv2\">Custom Base Docker</div>\n    <SettingsEditor\n    settings={Settings.docker}\n    value={baseDocker}\n    onUpdate={this.onCustomUpdate}\n    />\n    </div>\n  }\n    if (baseDocker.presetBase) {\n    const preset = this.getPreset(baseDocker.presetBase);\n    this.a = <div className=\"bg-white pa3\">\n    <div className=\"f3 mv2\">{preset.name}</div>\n    <div className=\"c-st mv2\">[Image: {baseDocker.image_url}]</div>\n    <SettingsEditor\n    settings={preset.config}\n    value={{ tag: baseDocker.image_url && baseDocker.image_url.split(':').pop() }}\n    onUpdate={this.onPresetUpdate}\n    />\n    </div>\n  }\n    return (\n    <ul className={'list pl4 pr1'}>\n    {dockers.map((item, index) => <li className={'cb pv3 bt b--near-white '} key={index}><span className={'pointer h3 mv7 '}  onClick={() => this.onPresetChosen(item,index)}>{ index === id ? '' : item.name}</span>\n      <ResetButton onClick={() => this.onPresetChosen(null)} index={index} id={id}/>\n      { index === id ? this.a : <div></div>}\n    </li>)}\n    <li className={'cb pv3 bt-m bt bb b--near-white'}><span  className={'h3 mv7 pointer'} onClick={() => this.onPresetChosen('Custom',4)}>{ id === 4 ? '' : 'custom'}</span>\n    <ResetButton onClick={() => this.onPresetChosen(null)} index={4} id={id}/>\n    { id === 4 ? this.a : <div></div>}\n    </li>\n    </ul>\n    );\n  }}\n\n    EditDocker.propTypes = {\n    config: Models.config.isRequired,\n    onUpdate: PropTypes.func.isRequired,\n  };\n\n    export default EditDocker;\n    // <div>\n    //   {\n//     dockers.map(item => (\n//         <Card\n//             key={item.base}\n//             name={item.name}\n//             pointer\n//             newConfig={this.newConfig}\n//             icon={item.icon}\n//             onClick={() => this.onPresetChosen(item)}\n//         />\n//     ))\n//   }\n//   <Card\n//       name=\"Custom\"\n//       pointer\n//       icon=\"fa fa-cogs\"\n//       onClick={() => this.onPresetChosen('Custom')}\n    {/*  />*/}\n  {/*</div>*/}\n\n\n","import FileSaver from 'file-saver';\nimport * as PropTypes from 'prop-types';\nimport React from 'react';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Button from '../components/button';\n\nclass EditDockerfile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editing: false,\n      content: props.text,\n      switchColor: ''\n    };\n    this.textArea = React.createRef();\n  }\n\n  onChange = (e) => {\n    this.setState({ content: e.target.value });\n  }\n\n  onEdit = () => {\n    this.setState({ editing: true });\n  }\n\n  onCopy = () => {\n    const { switchColor } = this.state\n    this.setState({\n      switchColor: !switchColor\n    })\n    this.textArea.current.select();\n    console.log(this)\n    document.execCommand('copy');\n  }\n\n  onSave = () => {\n    const { content } = this.state;\n    FileSaver.saveAs(new Blob([content]), 'Dockerfile');\n  }\n\n  render() {\n    const { content, editing, switchColor } = this.state;\n    return (\n      <div className=\"bg-white pa3 f6 mh3 bt b--near-white\">\n        <div>Content</div>\n        <textarea\n          ref={this.textArea}\n          className= \"mt2 w-100 bg-black white\"\n          style={{ height: '96rem', maxHeight: '50vh' }}\n          value={content}\n          disabled={!editing}\n          onChange={this.onChange}\n          spellCheck={false}\n        />\n        <div className=\"mt2\">\n          <div>\n            <Button className=\"mr2 pa1 ph3 bg-black-05\" onClick={this.onCopy}>\n              <span className='black'>Copy</span>\n            </Button>\n            {/*{!editing && (*/}\n              <Button className=\"mr2 pa1 ph3 bg-black-05\" onClick={this.onEdit}>\n                 <span className='black'>Edit</span>\n              </Button>\n            {/*)}*/}\n            <Button className=\"mr2 pa1 ph3 bg-black-05\" onClick={this.onSave}>\n              Save\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nEditDockerfile.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default EditDockerfile;\n","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport Button from '../components/button'\nimport * as Models from '../models';\nimport AddStep from './addStep';\nimport EditStep from './editStep';\nimport EditGeneral from './editGeneral';\nimport EditDocke from './editDocker';\nimport EditDockerfile from './editDockerfile';\n\nconst stepTypeTitle = {\n  add_run_step: 'Add Run Step',\n  add_entrypoint_step: 'Add Entrypoint Step',\n  edit_run_step: 'Edit Run Step',\n  edit_entrypoint_step: 'Edit Entrypoint Step',\n  edit_general: 'General Config',\n  edit_docker: 'Base Docker',\n  edit_dockerfile: 'Generated Dockerfile',\n};\n\nconst Content = ({\n  config, content, onUpdate, onSwitchContent, invalid, addRunStep, addEnStep\n}) => {\n  const stepType= stepTypeTitle[content.type]\n  const stepRunBool = stepType === 'Edit Run Step'\n  const stepEnBool =  stepType === 'Edit Entrypoint Step'\n  const {custom} = config.base_docker\n  const sharedProps = {\n    content,\n    config,\n    onUpdate,\n    onSwitchContent,\n  };\n  return (\n    <div className=\"black mt3 relative\">\n      <div className=\"pl4 mb3 h2 flex items-center black\">{stepTypeTitle[content.type]}<i className={\"f7 ml3 ms-Icon ms-Icon--ChevronRight black-30\"} aria-hidden=\"true\" />\n         <span>{ stepRunBool ? addRunStep.name : '' || stepEnBool ? addEnStep.name : ''}</span>\n        { stepType === 'Base Docker' ? <Button className='absolute-l right-0-l' onClick={()=> onUpdate({base_docker: {}})}>Delete</Button> : ''}\n        { stepRunBool || stepEnBool ? <Button className=\"absolute-l right-0-l\"\n           onClick={()=> stepRunBool ? onSwitchContent({ type: 'add_run_step' }):onSwitchContent({ type: 'add_entrypoint_step' })} >\n          <i className=\"mr2 f7 ms-Icon ms-Icon--RevToggleKey\" aria-hidden=\"true\" />\n          <span>Back</span>\n        </Button> : ''}\n      </div>\n      {(() => {\n        switch (content.type) {\n          case 'add_run_step':\n            return (\n                <AddStep type=\"run\" {...sharedProps} />);\n          case 'add_entrypoint_step':\n            return (\n              <AddStep type=\"entrypoint\" {...sharedProps} />\n            );\n          case 'edit_run_step':\n            return (\n                <EditStep\n                    type=\"run\"\n                    key={content.stepToEdit.id}\n                    stepToEdit={content.stepToEdit}\n                    onUpdate={onUpdate}\n                    {...sharedProps}\n                />\n            );\n          case 'edit_entrypoint_step':\n            return (\n              <EditStep\n                type=\"entrypoint\"\n                key={content.stepToEdit.id}\n                stepToEdit={content.stepToEdit}\n                onUpdate={onUpdate}\n                {...sharedProps}\n              />\n            );\n          case 'edit_general':\n            return (\n              <EditGeneral {...sharedProps} />\n            );\n          case 'edit_docker':\n            return (\n              <EditDocke {...sharedProps} />\n            );\n          case 'edit_dockerfile':\n            return (\n              <EditDockerfile\n                text={content.text}\n                key={content.text}\n              />\n            );\n          default:\n            return null;\n        }\n      })()}\n    </div>\n  );\n};\n\nContent.propTypes = {\n  config: Models.config.isRequired,\n  content: Models.content.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  onSwitchContent: PropTypes.func.isRequired,\n};\n\nexport default Content;\n","import * as React from 'react';\nimport { cloneDeep } from 'lodash';\nimport { Nav } from 'office-ui-fabric-react/lib/Nav';\nimport * as Models from \"../models\";\nimport * as PropTypes from \"prop-types\";\nimport './sidebar.scss'\nimport { initializeIcons } from 'office-ui-fabric-react/lib/Icons';\n\ninitializeIcons();\n\nclass Bar extends React.Component {\n    state = {\n        step: null,\n        selectedKey: ''\n\n    }\n    componentDidMount() {\n        const buttons = document.querySelectorAll('button')\n        buttons.forEach( button=>{\n            button.title =''\n        })\n    }\n\n    _onLinkClick = (item,k) =>{\n        const { config:{run_steps, entrypoint_steps}, content, onUpdate, onSwitchContent, addSteps } = this.props\n        let {key} = k;\n        const  keyType = typeof k.key;\n        switch ( keyType === 'string') {\n            case key === 'edit_general':\n                onSwitchContent({ type: 'edit_general' })\n                break;\n            case key === 'edit_docker':\n                onSwitchContent({ type: 'edit_docker' })\n                break;\n            case key === 'add_run_step':\n                onSwitchContent({ type: 'add_run_step' })\n                break;\n            case key === 'add_entrypoint_step':\n                onSwitchContent({ type: 'add_entrypoint_step' })\n                break;\n        }\n        let n\n        let i\n        const entrypointNewItems = cloneDeep(entrypoint_steps)\n        const runNewItems = cloneDeep(run_steps)\n        const idx = runNewItems.findIndex(ni => {\n            n = ni.id\n            return ni.id === k.key\n        });\n        const id = entrypointNewItems.findIndex(ni => {\n            i = ni.id\n            return ni.id === k.key\n        });\n        // run_steps.splice(idx, 1);\n        // onUpdate(entrypointNewItems);\n        if(n === k.key){\n            addSteps(runNewItems[idx],'run')\n            onSwitchContent({ type: 'edit_run_step', stepToEdit: run_steps[idx] })\n        }else if(i === k.key){\n            addSteps(entrypoint_steps[id])\n            onSwitchContent({ type: 'edit_entrypoint_step', stepToEdit:  entrypoint_steps[id] })\n        }\n    }\n    getStep = (steps) =>{\n        return  steps.map((step) => {\n            return {name: step.name , key: step.id}\n        })\n    }\n\n    render (){\n        const { content, config, config:{ run_steps, entrypoint_steps }} = this.props\n        this.run_steps =  this.getStep(run_steps)\n        this.entrypoint_steps = this.getStep(entrypoint_steps)\n        return (\n            <Nav\n                initialSelectedKey='edit_general'\n                selectedKey= { content.stepToEdit ? content.stepToEdit.id : content.type }\n                onLinkClick={this._onLinkClick}\n                styles={{\n                    root: { width: 310 },\n                    link: { height: 60, whiteSpace: 'pre', lineHeight: 14 }\n                }}\n                // expandButtonAriaLabel=\"Expand or collapse\"\n                groups={[\n                    {\n                        links:[\n                            {\n                                name: 'General'+'\\n'+`${config.general.name || ''}`,\n                                key: 'edit_general',\n                                icon: config.general.name ? 'Completed': 'warning',\n                            },\n                            {\n                                name: 'From'+'\\n'+`${config.base_docker.image_url || ''}`,\n                                key: 'edit_docker',\n                                icon: config.base_docker.image_url ? 'Completed': 'warning',\n                            },\n                            {\n                                name: 'Run',\n                                key: 'add_run_step',\n                                links:this.run_steps,\n                                isExpanded: true\n                            },\n                            {\n                                name: 'Entrypoint',\n                                key: 'add_entrypoint_step',\n                                links:this.entrypoint_steps,\n                                isExpanded: true,\n                            }\n                        ]\n                    }\n                ]}\n            />\n        )\n\n\n\n\n    };\n}\n\nBar.propTypes = {\n    addSteps: PropTypes.func.isRequired,\n    config: Models.config.isRequired,\n    content: Models.content.isRequired,\n    onUpdate: PropTypes.func.isRequired,\n    onSwitchContent: PropTypes.func.isRequired,\n};\nexport default Bar;\n","import 'babel-polyfill';\nimport { cloneDeep, find } from 'lodash';\nimport * as React from 'react';\nimport Alert from 'react-s-alert';\nimport 'tachyons/css/tachyons.min.css';\nimport 'react-s-alert/dist/s-alert-default.css';\n\nimport gelato from './gelato/lib/index';\nimport './main.scss';\nimport Title from './title';\nimport Content from './content';\nimport Sidebar from './sidebar/sidebar';\nimport { validateConfig, configPreSave } from './config-utils';\nimport Button from './components/button';\n\n\n\nconst dummyConfig = {\n  version: '1',\n  general: {\n    name: 'noname',\n    shell: 'bash -c',\n    env_variables: [],\n    workdir: '~',\n  },\n  base_docker: {\n    invalid: true,\n  },\n  run_steps: [],\n  entrypoint_steps: [],\n  invalid: true,\n};\n\nconst LOCAL_STORAGE_KEY = 'icecream-last-state';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      config: dummyConfig,\n      content: {\n        type: 'edit_general',\n      },\n      addRunStep: null,\n      addEnStep: null,\n      savedSteps: [],\n    };\n    this.onUpdate = this.onUpdate.bind(this);\n    this.onSwitchContent = this.onSwitchContent.bind(this);\n    this.onReset = this.onReset.bind(this);\n    this.addSteps = this.addSteps.bind(this);\n    this.delFromDocker = this.delFromDocker.bind(this);\n  }\n\n  async componentDidMount() {\n    const item = localStorage.getItem(LOCAL_STORAGE_KEY);\n    if (item) {\n      try {\n        const state = JSON.parse(item);\n        this.setState(state);\n      } catch (ex) {\n        Alert.warning('Failed to load last state.');\n      }\n    }\n  }\n  delFromDocker () {\n\n  }\n  componentDidUpdate() {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(this.state));\n  }\n\n  onReset() {\n    this.setState({\n      config: cloneDeep(dummyConfig),\n      content: {\n        type: 'edit_general',\n      },\n    });\n  }\n  addSteps(step,run) {\n    run ? this.setState({\n      addRunStep: step\n    }) : this.setState({\n      addEnStep: step\n    })\n\n\n  }\n  onUpdate(update, onclick) {\n    console.log(update)\n    const { config, content } = this.state;\n    const newConfig = validateConfig({ ...cloneDeep(config), ...update });\n    if (content.type === 'edit_run_step') {\n      const { id } = content.stepToEdit;\n      const step = find(newConfig.run_steps, { id });\n      let newContent;\n      if (step) {\n        newContent = {\n          type: 'edit_run_step',\n          stepToEdit: step,\n        };\n      } else {\n        newContent = {\n          type: 'edit_general',\n        };\n      }\n      this.setState({ content: newContent, config: newConfig });\n    } else if (content.type === 'edit_entrypoint_step') {\n      const { id } = content.stepToEdit;\n      const step = find(newConfig.entrypoint_steps, { id });\n      let newContent;\n      if (step) {\n        newContent = {\n          type: 'edit_entrypoint_step',\n          stepToEdit: step,\n        };\n      } else {\n        newContent = {\n          type: 'edit_general',\n        };\n      }\n      this.setState({ content: newContent, config: newConfig });\n    } else {\n      this.setState({ config: newConfig }, ()=>{\n        if(content.type === 'add_run_step' && onclick){\n          {newConfig.run_steps.map((item)=>{\n            onclick(item,'add_run_step')})}\n        }else if (content.type === 'add_entrypoint_step' && onclick){\n          {newConfig.entrypoint_steps.map((item)=>{\n            onclick(item)})}\n        }\n      })\n    }\n  }\n\n  onSwitchContent(newContent) {\n    this.setState({ content: newContent });\n  }\n\n  componentDidCatch(error) {\n    Alert.error(error.toString(), { position: 'bottom-right' });\n  }\n\n  render() {\n    const { config, content, invalid, addRunStep, addEnStep } = this.state;\n    return (\n        <div className=\"helvetica flex flex-column vh-100\">\n          {/*<Title*/}\n          {/*  config={config}*/}\n          {/*  onUpdate={this.onUpdate}*/}\n          {/*  onReset={this.onReset}*/}\n          {/*  onSwitchContent={this.onSwitchContent}*/}\n          {/*  invalid={config.invalid}*/}\n          {/*/>*/}\n          {/* https://stackoverflow.com/questions/16671914/flexible-box-layout-model-how-should-auto-margins-in-the-cross-axis-direction-b */}\n          <div className=\"flex self-stretch flex-auto\">\n            <div className=\"flex flex-auto mw9 center\">\n              <div className=\"w-20 ml1 br b--near-white bw1 flex flex-column justify-between pb2\">\n                <div className=\"overflow-hidden\">\n                  <Sidebar\n                      addSteps={this.addSteps}\n                      config={config}\n                      content={content}\n                      onUpdate={this.onUpdate}\n                      onSwitchContent={this.onSwitchContent}\n                  />\n                </div>\n                <div style={{ flexGrow: 0 }}>\n                  <Button\n                      className= {config.invalid ? \"db w-60 bg-black-10 mid-gray  mb5 c-t tc center\": \"db w-60 bg-blue mid-gray  mb5 c-t tc center\"}\n                      disabled={config.invalid}\n                      dark\n                      onClick={() => {\n                        try {\n                          this.onSwitchContent({\n                            type: 'edit_dockerfile',\n                            text: gelato(configPreSave(config)),\n                          });\n                        } catch (ex) {\n                          Alert.error(`An error occured while generating Dockerfile: ${ex}`, { position: 'bottom-right' });\n                        }\n                      }}\n                  >\n                    Generate Dockerfile\n                  </Button>\n                </div>\n              </div>\n              <div className=\"w-70 pb4 mh2 overflow-y-auto\">\n                <Content\n                    delFromDocker={this.delFromDocker}\n                    addEnStep={addEnStep}\n                    addRunStep={addRunStep}\n                    content={content}\n                    config={config}\n                    onUpdate={this.onUpdate}\n                    onSwitchContent={this.onSwitchContent}\n                />\n              </div>\n            </div>\n          </div>\n          <Alert stack={{ limit: 3 }} />\n        </div>\n    );\n  }\n}\n\nexport default App;\n","import * as React from 'react';\nimport { render } from 'react-dom';\nimport App from './App';\n\nrender(<App />, document.getElementById('content'));\n"],"sourceRoot":""}