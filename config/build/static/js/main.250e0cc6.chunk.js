(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){e.exports={writeBashrc:function(e){return'echo "'.concat(e,'" >> ~/.bashrc && source ~/.bashrc')},aptInstall:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"apt-get install -y --no-install-recommends ".concat(t.join(" "))},appendToFile:function(e,t){return'echo "'.concat(e,'" >> ').concat(t)}}},140:function(e,t,n){var a=n(5),i=n(100),o=["2","2.6","2.7","3","3.4","3.5","3.6","3.7"];e.exports={availableVersions:o,install:{type:"install_python",build:function(e){var t=a.toString(e.config.version)||"3.6";if(!o.includes(t))throw Error("Invalid python version ".concat(t));"2"===t&&(t="2.7");var n="python".concat(t),r=[i.aptInstall("wget","software-properties-common"),"add-apt-repository ppa:deadsnakes/ppa","apt-get update",i.aptInstall(n)];return 3===t[0]?r.push("wget -O ~/get-pip.py https://bootstrap.pypa.io/get-pip.py","".concat(n," ~/get-pip.py"),"pip install setuptools","ln -s /usr/bin/".concat(n," /usr/local/bin/python"),"ln -s /usr/bin/".concat(n," /usr/local/bin/python3")):r.push("apt-get install -y --no-install-recommends python-pip","pip install setuptools","ln -s /usr/bin/".concat(n," /usr/local/bin/python")),r},os:["ubuntu"],command:["run"]},pip_install:{type:"pip_install",build:function(e){var t=e.config.python3?"pip3":"pip",n=["(".concat(t,' -V || (echo "Error: ').concat(t,' is not installed" && exit 1))')];return e.config.requirements&&a.isString(e.config.requirements)&&n.push("".concat(t," install -r ").concat(e.config.requirements)),e.config.packages&&a.isArray(e.config.packages)&&n.push("".concat(t," install ").concat(e.config.packages.join(" "))),n},os:["ubuntu"],command:["run","entrypoint"]}}},193:function(e,t,n){for(var a={},i=0,o=[n(488),n(489),n(194).clone,n(194).install,n(490),n(140).install,n(140).pip_install,n(491).download];i<o.length;i++){var r=o[i];if(a[r.type])throw Error("Step ID ".concat(r.type," is not unique."));a[r.type]=r}e.exports=a},194:function(e,t,n){var a=n(5);function i(e){return["apt-get install -y --no-install-recommends git"]}e.exports={clone:{type:"git_clone",build:function(e){var t=["apt-get install -y --no-install-recommends git"];return t.push("git clone ".concat(e.config.url)),"master"!==e.config.branch&&t.push("git checkout ".concat(e.config.branch)),a.isEmpty(e.config.tag)||t.push("git checkout tags/".concat(e.config.tag)),t},os:["debian","ubuntu"],command:["run","entrypoint"]},install:{type:"install_git",build:i,os:["debian","ubuntu"],command:["run"]}}},197:function(e){e.exports=["ubuntu","debian"]},198:function(e){e.exports=[{label:"Base Docker URL",name:"image_url",type:"text",required:!0},{label:"Operation System",name:"os",type:"choice",options:[{iconClass:"devicon-ubuntu-plain colored",name:"ubuntu"},{iconClass:"devicon-debian-plain colored",name:"debian"}]}]},199:function(e){e.exports=[{label:"Name",name:"name",type:"text",required:!0},{label:"Shell",name:"shell",type:"text",disabled:!0},{label:"Working Directory",name:"workdir",type:"text"},{label:"Environment Variable",name:"env_variables",type:"table",headers:[{name:"key",unique:!0},{name:"value"}],transform:"field"}]},200:function(e){e.exports=[{label:"Step Name",name:"name",type:"text",required:!0},{label:"Author",name:"author",type:"text",required:!0}]},208:function(e){e.exports={name:"Conda Install",type:"conda_install",command:["run","entrypoint"],config:[{label:"Packages to install",name:"packages",type:"table",headers:[{name:"Package",unique:!0}],transform:"flatarray"}],os:["ubuntu","debian"]}},209:function(e){e.exports={name:"Install Git",type:"install_git",command:["run"],config:[],os:["ubuntu","debian"]}},210:function(e){e.exports={name:"Git Clone",type:"git_clone",command:["run","entrypoint"],config:[{label:"URL of Git Repository",name:"url",type:"text",regex:"\\/([\\w.@:-~_]+?)(\\/)?(\\.git)?$",required:!0},{label:"Branch",name:"branch",type:"text",required:!0},{label:"Tag",name:"tag",type:"text"}],os:["ubuntu","debian"]}},211:function(e){e.exports={name:"Install Conda",type:"install_conda",command:["run"],config:[{label:"Bit",name:"bit",type:"choice",options:[{label:"32-bits",name:"32"},{label:"64-bits",name:"64"}]},{label:"Environment Name for Conda to Install to",name:"env_name",type:"text"},{label:"Python Version",name:"python_version",type:"choice",options:[{label:"2",name:"2"},{label:"2.6",name:"2.6"},{label:"2.7",name:"2.7"},{label:"3",name:"3"},{label:"3.4",name:"3.4"},{label:"3.5",name:"3.5"},{label:"3.6",name:"3.6"},{label:"3.7",name:"3.7"}]},{label:"Conda Version (Default to latest)",name:"conda_version",type:"text"}],defaultConfig:{conda_version:"latest"},os:["ubuntu","debian"]}},212:function(e){e.exports={name:"Install Python",type:"install_python",command:["run"],config:[{label:"Python Version",name:"version",type:"choice",options:[{label:"2",name:"2"},{label:"2.6",name:"2.6"},{label:"2.7",name:"2.7"},{label:"3",name:"3"},{label:"3.4",name:"3.4"},{label:"3.5",name:"3.5"},{label:"3.6",name:"3.6"},{label:"3.7",name:"3.7"}]}],os:["ubuntu"]}},213:function(e){e.exports={name:"HDFS Download",type:"hdfs_download",command:["entrypoint"],config:[{label:"WebHDFS URL",name:"url",type:"text",required:!0},{label:"Client Type",name:"client_type",type:"choice",options:[{label:"TokenClient",name:"TokenClient"},{label:"InsecureClient",name:"InsecureClient"}]},{label:"Source Path on HDFS",name:"source_path",type:"text",required:!0},{label:"Local Destination Path",name:"destination_path",type:"text",required:!0},{label:"Token",name:"token",type:"text",required:!0,condition:{name:"client_type",equals:"TokenClient"}},{label:"User",name:"user",type:"text",required:!0,condition:{name:"client_type",equals:"InsecureClient"}}],os:["ubuntu"]}},214:function(e){e.exports={name:"Custom Command",type:"custom_command",command:["run","entrypoint"],config:[{label:"Command to Execute",name:"command",type:"text",required:!0}],os:["ubuntu","debian"],icon:"fa fa-edit"}},215:function(e){e.exports={name:"Ubuntu",base:"ubuntu",icon:"devicon-ubuntu-plain",config:[{label:"Customize Docker",name:"tag",type:"tag-group",groupLabels:["Version"],tags:[{tagList:["18.04 (bionic)"],name:"18.04"},{tagList:["18.10 (cosmic)"],name:"18.10"},{tagList:["19.04 (disco)"],name:"19.04"},{tagList:["14.04 (trusty)"],name:"14.04"},{tagList:["16.04 (xenial)"],name:"16.04"}]}]}},216:function(e){e.exports={name:"CUDA",base:"nvidia/cuda",icon:"fa fa-desktop",config:[{label:"Customize Docker",name:"tag",type:"tag-group",groupLabels:["Operating System","CUDA Version","Flavor","CUDNN Version"],tags:[{tagList:["Ubuntu 14.04","10.0","Runtime","Default"],name:"10.0-runtime-ubuntu14.04"},{tagList:["Ubuntu 14.04","10.0","Devel","Default"],name:"10.0-devel-ubuntu14.04"},{tagList:["Ubuntu 14.04","10.0","Runtime","CUDNN 7"],name:"10.0-cudnn7-runtime-ubuntu14.04"},{tagList:["Ubuntu 14.04","10.0","Devel","CUDNN 7"],name:"10.0-cudnn7-devel-ubuntu14.04"},{tagList:["Ubuntu 18.04","10.0","Runtime","Default"],name:"10.0-runtime-ubuntu18.04"},{tagList:["Ubuntu 18.04","10.0","Devel","Default"],name:"10.0-devel-ubuntu18.04"},{tagList:["Ubuntu 18.04","10.0","Runtime","CUDNN 7"],name:"10.0-cudnn7-runtime-ubuntu18.04"},{tagList:["Ubuntu 18.04","10.0","Runtime","CUDNN 7"],name:"10.0-cudnn7-runtime"},{tagList:["Ubuntu 14.04","8.0","Runtime","Default"],name:"8.0-runtime-ubuntu14.04"},{tagList:["Ubuntu 14.04","8.0","Devel","Default"],name:"8.0-devel-ubuntu14.04"},{tagList:["Ubuntu 18.04","10.0","Devel","CUDNN 7"],name:"10.0-cudnn7-devel-ubuntu18.04"},{tagList:["Ubuntu 18.04","10.0","Devel","CUDNN 7"],name:"10.0-cudnn7-devel"},{tagList:["Ubuntu 14.04","8.0","Runtime","CUDNN 6"],name:"8.0-cudnn6-runtime-ubuntu14.04"},{tagList:["Ubuntu 14.04","8.0","Runtime","CUDNN 7"],name:"8.0-cudnn7-runtime-ubuntu14.04"},{tagList:["Ubuntu 14.04","8.0","Devel","CUDNN 6"],name:"8.0-cudnn6-devel-ubuntu14.04"},{tagList:["Ubuntu 14.04","8.0","Devel","CUDNN 7"],name:"8.0-cudnn7-devel-ubuntu14.04"},{tagList:["Ubuntu 18.04","9.2","Runtime","Default"],name:"9.2-runtime-ubuntu18.04"},{tagList:["Ubuntu 18.04","9.2","Devel","Default"],name:"9.2-devel-ubuntu18.04"},{tagList:["Ubuntu 18.04","9.2","Runtime","CUDNN 7"],name:"9.2-cudnn7-runtime-ubuntu18.04"},{tagList:["Ubuntu 14.04","8.0","Runtime","CUDNN 5"],name:"8.0-cudnn5-runtime-ubuntu14.04"},{tagList:["Ubuntu 14.04","8.0","Devel","CUDNN 5"],name:"8.0-cudnn5-devel-ubuntu14.04"},{tagList:["Ubuntu 18.04","9.2","Devel","CUDNN 7"],name:"9.2-cudnn7-devel-ubuntu18.04"},{tagList:["Ubuntu 14.04","10.0","Base","Default"],name:"10.0-base-ubuntu14.04"},{tagList:["Ubuntu 18.04","10.0","Devel","Default"],name:"latest"},{tagList:["Ubuntu 18.04","10.0","Runtime","Default"],name:"10.0-runtime"},{tagList:["Ubuntu 18.04","10.0","Devel","Default"],name:"10.0-devel"},{tagList:["Ubuntu 18.04","10.0","Base","Default"],name:"10.0-base-ubuntu18.04"},{tagList:["Ubuntu 18.04","10.0","Base","Default"],name:"10.0-base"},{tagList:["Ubuntu 18.04","9.2","Base","Default"],name:"9.2-base-ubuntu18.04"},{tagList:["Ubuntu 16.04","10.0","Runtime","Default"],name:"10.0-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","10.0","Devel","Default"],name:"10.0-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","10.0","Runtime","CUDNN 7"],name:"10.0-cudnn7-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.2","Runtime","Default"],name:"9.2-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.2","Devel","Default"],name:"9.2-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.2","Runtime","CUDNN 7"],name:"9.2-cudnn7-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.2","Runtime","CUDNN 7"],name:"9.2-cudnn7-runtime"},{tagList:["Ubuntu 16.04","9.1","Runtime","Default"],name:"9.1-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.1","Devel","Default"],name:"9.1-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.1","Runtime","CUDNN 7"],name:"9.1-cudnn7-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.1","Runtime","CUDNN 7"],name:"9.1-cudnn7-runtime"},{tagList:["Ubuntu 16.04","10.0","Devel","CUDNN 7"],name:"10.0-cudnn7-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.0","Runtime","Default"],name:"9.0-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.2","Devel","CUDNN 7"],name:"9.2-cudnn7-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.0","Devel","Default"],name:"9.0-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.2","Devel","CUDNN 7"],name:"9.2-cudnn7-devel"},{tagList:["Ubuntu 16.04","9.0","Runtime","CUDNN 7"],name:"9.0-cudnn7-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.0","Runtime","CUDNN 7"],name:"9.0-cudnn7-runtime"},{tagList:["Ubuntu 16.04","9.1","Devel","CUDNN 7"],name:"9.1-cudnn7-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.1","Devel","CUDNN 7"],name:"9.1-cudnn7-devel"},{tagList:["Ubuntu 16.04","9.0","Devel","CUDNN 7"],name:"9.0-cudnn7-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.0","Devel","CUDNN 7"],name:"9.0-cudnn7-devel"},{tagList:["Ubuntu 16.04","8.0","Runtime","Default"],name:"8.0-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","8.0","Devel","Default"],name:"8.0-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","8.0","Runtime","CUDNN 6"],name:"8.0-cudnn6-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","8.0","Runtime","CUDNN 6"],name:"8.0-cudnn6-runtime"},{tagList:["Ubuntu 16.04","8.0","Runtime","CUDNN 7"],name:"8.0-cudnn7-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","8.0","Runtime","CUDNN 7"],name:"8.0-cudnn7-runtime"},{tagList:["Ubuntu 16.04","8.0","Devel","CUDNN 6"],name:"8.0-cudnn6-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","8.0","Devel","CUDNN 6"],name:"8.0-cudnn6-devel"},{tagList:["Ubuntu 16.04","8.0","Devel","CUDNN 7"],name:"8.0-cudnn7-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","8.0","Devel","CUDNN 7"],name:"8.0-cudnn7-devel"},{tagList:["Ubuntu 16.04","8.0","Runtime","CUDNN 5"],name:"8.0-cudnn5-runtime-ubuntu16.04"},{tagList:["Ubuntu 16.04","8.0","Runtime","CUDNN 5"],name:"8.0-cudnn5-runtime"},{tagList:["Ubuntu 16.04","8.0","Devel","CUDNN 5"],name:"8.0-cudnn5-devel-ubuntu16.04"},{tagList:["Ubuntu 16.04","8.0","Devel","CUDNN 5"],name:"8.0-cudnn5-devel"},{tagList:["Ubuntu 16.04","9.2","Runtime","Default"],name:"9.2-runtime"},{tagList:["Ubuntu 16.04","9.2","Devel","Default"],name:"9.2-devel"},{tagList:["Ubuntu 16.04","9.0","Runtime","Default"],name:"9.0-runtime"},{tagList:["Ubuntu 16.04","9.0","Devel","Default"],name:"9.0-devel"},{tagList:["Ubuntu 16.04","9.1","Runtime","Default"],name:"9.1-runtime"},{tagList:["Ubuntu 16.04","9.1","Devel","Default"],name:"9.1-devel"},{tagList:["Ubuntu 16.04","8.0","Runtime","Default"],name:"8.0-runtime"},{tagList:["Ubuntu 16.04","8.0","Devel","Default"],name:"8.0-devel"},{tagList:["Ubuntu 16.04","9.2","Base","Default"],name:"9.2-base-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.2","Base","Default"],name:"9.2-base"},{tagList:["Ubuntu 16.04","9.0","Base","Default"],name:"9.0-base-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.0","Base","Default"],name:"9.0-base"},{tagList:["Ubuntu 16.04","10.0","Base","Default"],name:"10.0-base-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.1","Base","Default"],name:"9.1-base-ubuntu16.04"},{tagList:["Ubuntu 16.04","9.1","Base","Default"],name:"9.1-base"}]}]}},217:function(e){e.exports={name:"TensorFlow",base:"tensorflow/tensorflow",icon:"devicon-python-plain",config:[{label:"Customize Docker",name:"tag",type:"tag-group",groupLabels:["Device","Python","Version"],tags:[{tagList:["CPU","Python 3.x","nightly-devel"],name:"nightly-devel-py3"},{tagList:["GPU","Python 3.x","nightly-devel"],name:"nightly-devel-gpu-py3"},{tagList:["GPU","Python 2.x","nightly-devel"],name:"nightly-devel-gpu"},{tagList:["CPU","Python 2.x","nightly-devel"],name:"nightly-devel"},{tagList:["GPU","Python 3.x","nightly"],name:"nightly-gpu-py3"},{tagList:["GPU","Python 2.x","nightly"],name:"nightly-gpu"},{tagList:["CPU","Python 2.x","nightly"],name:"nightly"},{tagList:["CPU","Python 2.x","custom-op"],name:"custom-op"},{tagList:["GPU","Python 3.x","latest-devel"],name:"latest-devel-gpu-py3"},{tagList:["CPU","Python 3.x","latest-devel"],name:"latest-devel-py3"},{tagList:["GPU","Python 3.x","latest"],name:"latest-gpu-py3"},{tagList:["CPU","Python 3.x","latest"],name:"latest-py3"},{tagList:["GPU","Python 2.x","latest-devel"],name:"latest-devel-gpu"},{tagList:["CPU","Python 2.x","latest-devel"],name:"latest-devel"},{tagList:["GPU","Python 2.x","latest"],name:"latest-gpu"},{tagList:["CPU","Python 2.x","latest"],name:"latest"},{tagList:["GPU","Python 3.x","1.12.0-devel"],name:"1.12.0-devel-gpu-py3"},{tagList:["CPU","Python 3.x","1.12.0-devel"],name:"1.12.0-devel-py3"},{tagList:["GPU","Python 2.x","1.12.0-devel"],name:"1.12.0-devel-gpu"},{tagList:["CPU","Python 2.x","1.12.0-devel"],name:"1.12.0-devel"},{tagList:["GPU","Python 3.x","1.12.0"],name:"1.12.0-gpu-py3"},{tagList:["CPU","Python 3.x","1.12.0"],name:"1.12.0-py3"},{tagList:["GPU","Python 2.x","1.12.0"],name:"1.12.0-gpu"},{tagList:["CPU","Python 2.x","1.12.0"],name:"1.12.0"},{tagList:["GPU","Python 3.x","1.12.0-rc2-devel"],name:"1.12.0-rc2-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.12.0-rc2-devel"],name:"1.12.0-rc2-devel-gpu"},{tagList:["CPU","Python 3.x","1.12.0-rc2-devel"],name:"1.12.0-rc2-devel-py3"},{tagList:["CPU","Python 2.x","1.12.0-rc2-devel"],name:"1.12.0-rc2-devel"},{tagList:["GPU","Python 3.x","1.12.0-rc2"],name:"1.12.0-rc2-gpu-py3"},{tagList:["CPU","Python 3.x","1.12.0-rc2"],name:"1.12.0-rc2-py3"},{tagList:["GPU","Python 2.x","1.12.0-rc2"],name:"1.12.0-rc2-gpu"},{tagList:["CPU","Python 2.x","1.12.0-rc2"],name:"1.12.0-rc2"},{tagList:["GPU","Python 3.x","1.12.0-rc1-devel"],name:"1.12.0-rc1-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.12.0-rc1-devel"],name:"1.12.0-rc1-devel-gpu"},{tagList:["CPU","Python 3.x","1.12.0-rc1-devel"],name:"1.12.0-rc1-devel-py3"},{tagList:["CPU","Python 2.x","1.12.0-rc1-devel"],name:"1.12.0-rc1-devel"},{tagList:["GPU","Python 3.x","1.12.0-rc1"],name:"1.12.0-rc1-gpu-py3"},{tagList:["GPU","Python 2.x","1.12.0-rc1"],name:"1.12.0-rc1-gpu"},{tagList:["CPU","Python 3.x","1.12.0-rc1"],name:"1.12.0-rc1-py3"},{tagList:["CPU","Python 2.x","1.12.0-rc1"],name:"1.12.0-rc1"},{tagList:["GPU","Python 3.x","1.12.0-rc0-devel"],name:"1.12.0-rc0-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.12.0-rc0-devel"],name:"1.12.0-rc0-devel-gpu"},{tagList:["CPU","Python 3.x","1.12.0-rc0-devel"],name:"1.12.0-rc0-devel-py3"},{tagList:["CPU","Python 2.x","1.12.0-rc0-devel"],name:"1.12.0-rc0-devel"},{tagList:["GPU","Python 3.x","1.12.0-rc0"],name:"1.12.0-rc0-gpu-py3"},{tagList:["CPU","Python 3.x","1.12.0-rc0"],name:"1.12.0-rc0-py3"},{tagList:["GPU","Python 2.x","1.12.0-rc0"],name:"1.12.0-rc0-gpu"},{tagList:["CPU","Python 2.x","1.12.0-rc0"],name:"1.12.0-rc0"},{tagList:["GPU","Python 3.x","1.11.0-devel"],name:"1.11.0-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.11.0-devel"],name:"1.11.0-devel-gpu"},{tagList:["CPU","Python 3.x","1.11.0-devel"],name:"1.11.0-devel-py3"},{tagList:["CPU","Python 2.x","1.11.0-devel"],name:"1.11.0-devel"},{tagList:["GPU","Python 3.x","1.11.0"],name:"1.11.0-gpu-py3"},{tagList:["CPU","Python 3.x","1.11.0"],name:"1.11.0-py3"},{tagList:["GPU","Python 2.x","1.11.0"],name:"1.11.0-gpu"},{tagList:["CPU","Python 2.x","1.11.0"],name:"1.11.0"},{tagList:["GPU","Python 3.x","1.11.0-rc2-devel"],name:"1.11.0-rc2-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.11.0-rc2-devel"],name:"1.11.0-rc2-devel-gpu"},{tagList:["CPU","Python 3.x","1.11.0-rc2-devel"],name:"1.11.0-rc2-devel-py3"},{tagList:["CPU","Python 2.x","1.11.0-rc2-devel"],name:"1.11.0-rc2-devel"},{tagList:["GPU","Python 3.x","1.11.0-rc2"],name:"1.11.0-rc2-gpu-py3"},{tagList:["CPU","Python 3.x","1.11.0-rc2"],name:"1.11.0-rc2-py3"},{tagList:["GPU","Python 2.x","1.11.0-rc2"],name:"1.11.0-rc2-gpu"},{tagList:["CPU","Python 2.x","1.11.0-rc2"],name:"1.11.0-rc2"},{tagList:["GPU","Python 3.x","1.11.0-rc1-devel"],name:"1.11.0-rc1-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.11.0-rc1-devel"],name:"1.11.0-rc1-devel-gpu"},{tagList:["CPU","Python 3.x","1.11.0-rc1-devel"],name:"1.11.0-rc1-devel-py3"},{tagList:["GPU","Python 3.x","1.11.0-rc1"],name:"1.11.0-rc1-gpu-py3"},{tagList:["CPU","Python 2.x","1.11.0-rc1-devel"],name:"1.11.0-rc1-devel"},{tagList:["GPU","Python 2.x","1.11.0-rc1"],name:"1.11.0-rc1-gpu"},{tagList:["CPU","Python 3.x","1.11.0-rc1"],name:"1.11.0-rc1-py3"},{tagList:["CPU","Python 2.x","1.11.0-rc1"],name:"1.11.0-rc1"},{tagList:["GPU","Python 3.x","1.11.0-rc0-devel"],name:"1.11.0-rc0-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.11.0-rc0-devel"],name:"1.11.0-rc0-devel-gpu"},{tagList:["CPU","Python 3.x","1.11.0-rc0-devel"],name:"1.11.0-rc0-devel-py3"},{tagList:["GPU","Python 3.x","1.11.0-rc0"],name:"1.11.0-rc0-gpu-py3"},{tagList:["CPU","Python 2.x","1.11.0-rc0-devel"],name:"1.11.0-rc0-devel"},{tagList:["GPU","Python 2.x","1.11.0-rc0"],name:"1.11.0-rc0-gpu"},{tagList:["CPU","Python 3.x","1.11.0-rc0"],name:"1.11.0-rc0-py3"},{tagList:["CPU","Python 2.x","1.11.0-rc0"],name:"1.11.0-rc0"},{tagList:["GPU","Python 3.x","1.10.1-devel"],name:"1.10.1-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.10.1-devel"],name:"1.10.1-devel-gpu"},{tagList:["CPU","Python 3.x","1.10.1-devel"],name:"1.10.1-devel-py3"},{tagList:["CPU","Python 2.x","1.10.1-devel"],name:"1.10.1-devel"},{tagList:["GPU","Python 3.x","1.10.1"],name:"1.10.1-gpu-py3"},{tagList:["GPU","Python 2.x","1.10.1"],name:"1.10.1-gpu"},{tagList:["CPU","Python 3.x","1.10.1"],name:"1.10.1-py3"},{tagList:["CPU","Python 2.x","1.10.1"],name:"1.10.1"},{tagList:["GPU","Python 3.x","1.10.0-devel"],name:"1.10.0-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.10.0-devel"],name:"1.10.0-devel-gpu"},{tagList:["CPU","Python 3.x","1.10.0-devel"],name:"1.10.0-devel-py3"},{tagList:["CPU","Python 2.x","1.10.0-devel"],name:"1.10.0-devel"},{tagList:["GPU","Python 3.x","1.10.0"],name:"1.10.0-gpu-py3"},{tagList:["CPU","Python 3.x","1.10.0"],name:"1.10.0-py3"},{tagList:["GPU","Python 2.x","1.10.0"],name:"1.10.0-gpu"},{tagList:["CPU","Python 2.x","1.10.0"],name:"1.10.0"},{tagList:["GPU","Python 3.x","1.10.0-rc1-devel"],name:"1.10.0-rc1-devel-gpu-py3"},{tagList:["GPU","Python 2.x","1.10.0-rc1-devel"],name:"1.10.0-rc1-devel-gpu"},{tagList:["CPU","Python 3.x","1.10.0-rc1-devel"],name:"1.10.0-rc1-devel-py3"},{tagList:["CPU","Python 2.x","1.10.0-rc1-devel"],name:"1.10.0-rc1-devel"}]}]}},218:function(e){e.exports={name:"deepo",base:"ufoym/deepo",icon:"devicon-python-plain",config:[{label:"Customize Docker",name:"tag",type:"tag-group",groupLabels:["Feature","Device","Python"],tags:[{tagList:["all-jupyter","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"all-jupyter"},{tagList:["all-jupyter","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"all-jupyter-py36"},{tagList:["all-jupyter","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"all-jupyter-py27"},{tagList:["all-jupyter","GPU (CUDA 9.0)","Python 3.6"],name:"all-jupyter-py36-cu90"},{tagList:["all-jupyter","GPU (CUDA 9.0)","Python 2.7"],name:"all-jupyter-py27-cu90"},{tagList:["all","GPU (CUDA 9.0)","Python 2.7"],name:"py27-cu90"},{tagList:["all","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"all-py27"},{tagList:["all","GPU (CUDA 9.0)","Python 2.7"],name:"all-py27-cu90"},{tagList:["caffe2","CPU","Python 2.7 & Python 3.6"],name:"caffe2-cpu"},{tagList:["caffe2","CPU","Python 3.6"],name:"caffe2-py36-cpu"},{tagList:["latest","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"latest"},{tagList:["all","GPU (CUDA 9.0)","Python 3.6"],name:"py36-cu90"},{tagList:["all","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"all"},{tagList:["all","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"all-py36"},{tagList:["cntk","CPU","Python 2.7 & Python 3.6"],name:"cntk-cpu"},{tagList:["cntk","CPU","Python 3.6"],name:"cntk-py36-cpu"},{tagList:["all","GPU (CUDA 9.0)","Python 3.6"],name:"all-py36-cu90"},{tagList:["torch","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"torch"},{tagList:["torch","GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"torch-cu90"},{tagList:["sonnet","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"sonnet-py27"},{tagList:["sonnet","GPU (CUDA 9.0)","Python 2.7"],name:"sonnet-py27-cu90"},{tagList:["all","CPU","Python 2.7 & Python 3.6"],name:"cpu"},{tagList:["all","CPU","Python 3.6"],name:"py36-cpu"},{tagList:["all","CPU","Python 2.7 & Python 3.6"],name:"all-cpu"},{tagList:["all","CPU","Python 3.6"],name:"all-py36-cpu"},{tagList:["caffe","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"caffe-py27"},{tagList:["caffe","GPU (CUDA 9.0)","Python 2.7"],name:"caffe-py27-cu90"},{tagList:["lasagne","CPU","Python 2.7"],name:"lasagne-py27-cpu"},{tagList:["caffe","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"caffe"},{tagList:["caffe","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"caffe-py36"},{tagList:["caffe","GPU (CUDA 9.0)","Python 3.6"],name:"caffe-py36-cu90"},{tagList:["cntk","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"cntk"},{tagList:["cntk","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"cntk-py36"},{tagList:["cntk","GPU (CUDA 9.0)","Python 3.6"],name:"cntk-py36-cu90"},{tagList:["tensorflow","CPU","Python 2.7"],name:"tensorflow-py27-cpu"},{tagList:["sonnet","CPU","Python 2.7 & Python 3.6"],name:"sonnet-cpu"},{tagList:["sonnet","CPU","Python 3.6"],name:"sonnet-py36-cpu"},{tagList:["keras","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"keras"},{tagList:["keras","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"keras-py36"},{tagList:["keras","GPU (CUDA 9.0)","Python 3.6"],name:"keras-py36-cu90"},{tagList:["mxnet","CPU","Python 2.7"],name:"mxnet-py27-cpu"},{tagList:["lasagne","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"lasagne"},{tagList:["lasagne","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"lasagne-py36"},{tagList:["lasagne","GPU (CUDA 9.0)","Python 3.6"],name:"lasagne-py36-cu90"},{tagList:["chainer","CPU","Python 2.7"],name:"chainer-py27-cpu"},{tagList:["pytorch","CPU","Python 2.7 & Python 3.6"],name:"pytorch-cpu"},{tagList:["pytorch","CPU","Python 3.6"],name:"pytorch-py36-cpu"},{tagList:["caffe","CPU","Python 2.7"],name:"caffe-py27-cpu"},{tagList:["pytorch","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"pytorch"},{tagList:["pytorch","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"pytorch-py36"},{tagList:["pytorch","GPU (CUDA 9.0)","Python 3.6"],name:"pytorch-py36-cu90"},{tagList:["lasagne","CPU","Python 2.7 & Python 3.6"],name:"lasagne-cpu"},{tagList:["lasagne","CPU","Python 3.6"],name:"lasagne-py36-cpu"},{tagList:["cntk","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"cntk-py27"},{tagList:["cntk","GPU (CUDA 9.0)","Python 2.7"],name:"cntk-py27-cu90"},{tagList:["chainer","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"chainer-py27"},{tagList:["chainer","GPU (CUDA 9.0)","Python 2.7"],name:"chainer-py27-cu90"},{tagList:["tensorflow","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"tensorflow-py27"},{tagList:["tensorflow","GPU (CUDA 9.0)","Python 2.7"],name:"tensorflow-py27-cu90"},{tagList:["tensorflow","CPU","Python 2.7 & Python 3.6"],name:"tensorflow-cpu"},{tagList:["tensorflow","CPU","Python 3.6"],name:"tensorflow-py36-cpu"},{tagList:["keras","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"keras-py27"},{tagList:["keras","GPU (CUDA 9.0)","Python 2.7"],name:"keras-py27-cu90"},{tagList:["keras","CPU","Python 2.7"],name:"keras-py27-cpu"},{tagList:["theano","CPU","Python 2.7"],name:"theano-py27-cpu"},{tagList:["mxnet","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"mxnet-py27"},{tagList:["mxnet","GPU (CUDA 9.0)","Python 2.7"],name:"mxnet-py27-cu90"},{tagList:["caffe2","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"caffe2"},{tagList:["caffe2","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"caffe2-py36"},{tagList:["caffe2","GPU (CUDA 9.0)","Python 3.6"],name:"caffe2-py36-cu90"},{tagList:["sonnet","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"sonnet"},{tagList:["sonnet","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"sonnet-py36"},{tagList:["sonnet","GPU (CUDA 9.0)","Python 3.6"],name:"sonnet-py36-cu90"},{tagList:["chainer","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"chainer"},{tagList:["chainer","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"chainer-py36"},{tagList:["chainer","GPU (CUDA 9.0)","Python 3.6"],name:"chainer-py36-cu90"},{tagList:["darknet","CPU","Python 2.7 & Python 3.6"],name:"darknet-cpu"},{tagList:["torch","CPU","Python 2.7 & Python 3.6"],name:"torch-cpu"},{tagList:["theano","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"theano"},{tagList:["theano","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"theano-py36"},{tagList:["theano","GPU (CUDA 9.0)","Python 3.6"],name:"theano-py36-cu90"},{tagList:["all-jupyter","CPU","Python 2.7 & Python 3.6"],name:"all-jupyter-cpu"},{tagList:["all-jupyter","CPU","Python 3.6"],name:"all-jupyter-py36-cpu"},{tagList:["all","CPU","Python 2.7"],name:"py27-cpu"},{tagList:["all","CPU","Python 2.7"],name:"all-py27-cpu"},{tagList:["all-jupyter","CPU","Python 2.7"],name:"all-jupyter-py27-cpu"},{tagList:["caffe2","CPU","Python 2.7"],name:"caffe2-py27-cpu"},{tagList:["mxnet","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"mxnet"},{tagList:["mxnet","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"mxnet-py36"},{tagList:["mxnet","GPU (CUDA 9.0)","Python 3.6"],name:"mxnet-py36-cu90"},{tagList:["tensorflow","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"tensorflow"},{tagList:["tensorflow","CPU / GPU (CUDA 9.0)","Python 3.6"],name:"tensorflow-py36"},{tagList:["tensorflow","GPU (CUDA 9.0)","Python 3.6"],name:"tensorflow-py36-cu90"},{tagList:["chainer","CPU","Python 2.7 & Python 3.6"],name:"chainer-cpu"},{tagList:["chainer","CPU","Python 3.6"],name:"chainer-py36-cpu"},{tagList:["lasagne","CPU / GPU (CUDA 9.0)","Python 2.7"],name:"lasagne-py27"},{tagList:["lasagne","GPU (CUDA 9.0)","Python 2.7"],name:"lasagne-py27-cu90"},{tagList:["theano","CPU","Python 2.7 & Python 3.6"],name:"theano-cpu"},{tagList:["theano","CPU","Python 3.6"],name:"theano-py36-cpu"},{tagList:["darknet","CPU / GPU (CUDA 9.0)","Python 2.7 & Python 3.6"],name:"darknet"}]}]}},223:function(e,t,n){e.exports=n(523)},439:function(e,t,n){var a=n(440),i=n(473),o=[n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481)],r=n(482);e.exports=function(e){var t=(new a).addSchema(o).compile(i);if(!t(e))throw new r("The config validation is not passed.",t.errors)}},473:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"config_schema.json",type:"object",description:"Schema of step config. Version 0.2.0",required:["version","env_variables","base_docker","workdir","run_steps","entrypoint_steps"],properties:{version:{type:"string",description:"The version of the job config.",default:"1.0"},env_variables:{type:"object",description:"The environment variables defined in dockerfile."},base_docker:{type:"object",description:"A base docker image that the dockerfile build from.",properties:{image_url:{type:"string"},os:{type:"string",enum:["debian","ubuntu"]}},required:["image_url","os"]},workdir:{type:"string",description:"Working directory for the following RUN and ENTRYPOINT commands",default:"/root"},run_steps:{type:"array",description:"An array of steps that discribe the build process.",items:{type:"object",properties:{step_type:{type:"string"},config:{type:"object",anyOf:[{$ref:"conda_install.json"},{$ref:"custom_command.json"},{$ref:"git_clone.json"},{$ref:"hdfs_download.json"},{$ref:"install_conda.json"},{$ref:"install_git.json"},{$ref:"install_python.json"},{$ref:"pip_install.json"}]}},required:["step_type","config"]}},entrypoint_steps:{type:"array",description:"An array of steps that discribe the entry point when running docker container.",items:{type:"object",properties:{step_type:{type:"string"},config:{type:"object",anyOf:[{$ref:"conda_install.json"},{$ref:"custom_command.json"},{$ref:"git_clone.json"},{$ref:"hdfs_download.json"},{$ref:"install_conda.json"},{$ref:"install_git.json"},{$ref:"install_python.json"},{$ref:"pip_install.json"}]}},required:["step_type","config"]}}}}},474:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"conda_install.json",type:"object",description:"Config schema of install conda step.",properties:{packages:{type:"array",items:{type:"string",description:"the package follows conda package match specifications."}}},required:["packages"]}},475:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"custom_command.json",type:"object",description:"Config schema of custom command step.",properties:{command:{type:"string"}},required:["command"]}},476:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"git_clone.json",type:"object",description:"Config schema of git clone step.",properties:{url:{type:"string",description:"the git repo url to clone"},branch:{type:"string",default:"master"},tag:{type:"string"}},required:["url"]}},477:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"hdfs_download.json",type:"object",description:"Config schema of hdfs download step.",oneOf:[{description:"token client",properties:{url:{type:"string",description:"the web hdfs url"},client_type:{type:"string",enum:["TokenClient"]},source_path:{type:"string"},destination_path:{type:"string"},token:{type:"string"}},required:["url","client_type","source_path","destination_path","token"]},{description:"insecure client",properties:{url:{type:"string",description:"the web hdfs url"},client_type:{type:"string",enum:["InsecureClient"]},source_path:{type:"string",description:"the path from hdfs server to be downloaded"},destination_path:{type:"string",description:"the path where hdfs data downloaded into"},user:{type:"string"}},required:["url","client_type","source_path","destination_path","user"]}]}},478:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"install_conda.json",type:"object",description:"Config schema of install conda step.",properties:{python_version:{type:"string",default:"3.6"},conda_version:{type:"string",default:"latest"},env_name:{type:"string"},bit:{type:"string",enum:["32","64"]}},required:["python_version","conda_version","bit"]}},479:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"install_git.json",type:"object",description:"Config schema of git clone step.",properties:{}}},480:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"install_python.json",type:"object",description:"Config schema of install python step.",properties:{version:{type:["string","number"],default:"3.6"}},required:["version"]}},481:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"pip_install.json",type:"object",description:"Config schema of pip install step.",properties:{packages:{type:"array",items:{type:"string"}}},required:["packages"]}},482:function(e,t,n){"use strict";n.r(t),function(e){var t=n(12),a=n(14),i=n(11),o=n(13),r=n(220),s=function(e){function n(e,o){var r;return Object(t.a)(this,n),(r=Object(a.a)(this,Object(i.a)(n).call(this,e))).message=e,r.validationDetails=o,r.name="SchemaValidation",r}return Object(o.a)(n,e),n}(Object(r.a)(Error));e.exports=s}.call(this,n(82)(e))},483:function(e,t){e.exports={type:"version",build:function(e){return e.version?["# version: ".concat(e.version)]:[]}}},484:function(e,t){e.exports={type:"base_docker",build:function(e){if(!e.base_docker)throw new Error("No base docker in config file.");return["From ".concat(e.base_docker.image_url)]}}},485:function(e,t){e.exports={type:"shell",build:function(e){return['SHELL ["/bin/bash", "-c"]',"ENV BASH_ENV=~/.bashrc"]}}},486:function(e,t,n){"use strict";n.r(t),function(e){var t=n(53);e.exports={type:"env_variables",build:function(e){return e.env_variables?Object.entries(e.env_variables).map(function(e){var n=Object(t.a)(e,2),a=n[0],i=n[1];return"ENV ".concat(a,'="').concat(i,'"')}):[]}}}.call(this,n(82)(e))},487:function(e,t,n){"use strict";n.r(t),function(e){var t=n(45),a=n(5),i=n(100),o=n(193);e.exports={type:"run_steps",build:function(e){if(a.isEmpty(e.run_steps))return[];var n=["apt-get update",i.aptInstall("apt-utils"),"touch ~/.bashrc","mv ~/.bashrc ~/.bashrc.bak"],r=!0,s=!1,c=void 0;try{for(var l,u=e.run_steps[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var p=l.value,d=o[p.step_type];if(a.isNil(d))throw Error("cannot find step builder: '".concat(p.type,"'"));if(!d.command.includes("run"))throw Error("Step ".concat(p.type," doesn't support RUN"));if(!d.os.includes(e.base_docker.os))throw Error("Step ".concat(p.type," doesn't support ").concat(e.base_docker.os," OS"));n.push.apply(n,Object(t.a)(d.build(p)))}}catch(m){s=!0,c=m}finally{try{r||null==u.return||u.return()}finally{if(s)throw c}}return n.push("cat ~/.bashrc.bak >> ~/.bashrc"),n.map(function(e){return"RUN ".concat(e)})}}}.call(this,n(82)(e))},488:function(e,t){e.exports={type:"conda_install",build:function(e){var t=e.config.packages;return["conda install ".concat(t.join(" "))]},os:["debian","ubuntu"],command:["run","entrypoint"]}},489:function(e,t){e.exports={type:"custom_command",build:function(e){return[e.config.command]},os:["debian","ubuntu"],command:["run","entrypoint"]}},490:function(e,t,n){var a=n(140).availableVersions,i=n(100);e.exports={type:"install_conda",build:function(e){var t=e.config.python_version||"3.6";if(!a.includes(t))throw Error("Invalid python version ".concat(t));var n=e.config.conda_version||"latest",o="64"===e.config.bit?"Linux-x86_64":"Linux-x86",r=[i.aptInstall("curl","wget","gnupg","bzip2")],s=e.config.env_name||"docker";return r.push("wget --quiet https://repo.anaconda.com/miniconda/Miniconda3-".concat(n,"-").concat(o,".sh -O ~/miniconda.sh"),"/bin/bash ~/miniconda.sh -b -p /opt/conda","rm ~/miniconda.sh",i.writeBashrc("export PATH=/opt/conda/bin:$PATH"),"conda create --yes -n ".concat(s," python=").concat(e.config.python_version),i.writeBashrc("source activate ".concat(s)),i.writeBashrc("export PATH=/opt/conda/envs/".concat(s,"/bin:$PATH"))),r},os:["debian","ubuntu"],command:["run"]}},491:function(e,t,n){"use strict";n.r(t),function(e){var t=n(45),a=n(5),i=n(100);e.exports={download:{type:"hdfs_download",build:function(e){if(a.isNil(e.config.url))throw new Error("step type ".concat(e.type,": hdfs does not have url"));var n=['(pip -V || (echo "Error: pip is not installed" && exit 1))',"pip install hdfs"];return n.push.apply(n,Object(t.a)(function(e){var t=[];if(t.push(i.appendToFile("[global]","~/.hdfscli.cfg"),i.appendToFile("default.alias = dev","~/.hdfscli.cfg"),i.appendToFile("[dev.alias]","~/.hdfscli.cfg")),"TokenClient"===e.config.client_type){if(a.isNil(e.config.token))throw new Error("step type ".concat(e.type,": token client does not have token"));t.push(i.appendToFile("client = TokenClient","~/.hdfscli.cfg"),i.appendToFile("url = ".concat(e.config.url),"~/.hdfscli.cfg"),i.appendToFile("token = ".concat(e.config.token),"~/.hdfscli.cfg"))}else t.push(i.appendToFile("client = InsecureClient","~/.hdfscli.cfg"),i.appendToFile("url = ".concat(e.config.url),"~/.hdfscli.cfg"),a.isNil(e.config.user)?null:i.appendToFile("user = ".concat(e.config.user),"~/.hdfscli.cfg"));return t}(e))),n.push("hdfscli download ".concat(e.config.source_path," ").concat(e.config.destination_path)),n},os:["ubuntu"],command:["entrypoint"]}}}.call(this,n(82)(e))},492:function(e,t,n){"use strict";n.r(t),function(e){var t=n(45),a=n(5),i=n(193);e.exports={type:"entrypoint_steps",build:function(e){if(a.isEmpty(e.entrypoint_steps))return[];var n=[],o=!0,r=!1,s=void 0;try{for(var c,l=e.entrypoint_steps[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value,p=i[u.step_type];if(a.isNil(p))throw Error("cannot find step builder: '".concat(u.type,"'"));if(!p.command.includes("entrypoint"))throw Error("Step ".concat(u.type," doesn't support ENTRYPOINT"));if(!p.os.includes(e.base_docker.os))throw Error("Step ".concat(u.type," doesn't support ").concat(e.base_docker.os," OS"));n.push.apply(n,Object(t.a)(p.build(u)))}}catch(d){r=!0,s=d}finally{try{o||null==l.return||l.return()}finally{if(r)throw s}}return["ENTRYPOINT ".concat(n.join(" && \\ \n".concat(" ".repeat(11))))]}}}.call(this,n(82)(e))},493:function(e,t,n){},522:function(e,t,n){},523:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(74),r=n(23),s=n(142),c=n.n(s),l=n(207),u=n(12),p=n(15),d=n(14),m=n(11),g=n(26),h=n(13),y=(n(229),n(5)),f=n(54),b=n.n(f),v=(n(437),n(438),n(45)),P=n(439),U=[n(483),n(484),n(485),n(486),n(487),n(492)];var C=function(e){P(e);for(var t=[""],n=0,a=U;n<a.length;n++){var i=a[n];t.push.apply(t,Object(v.a)(i.build(e))),t.push("")}return t.join("\n")},L=(n(493),n(104)),k=n.n(L),_=n(143),D=n(221),x=n(25),j=n.n(x),E=function(e){var t=e.className,n=(e.dark,e.mild,e.disabled),i=e.onClick,o=e.children,r=Object(D.a)(e,["className","dark","mild","disabled","onClick","children"]);return n?a.createElement("span",Object.assign({className:"pa2 c-st ".concat(t),style:{userSelect:"none"}},r),o):a.createElement("span",Object.assign({className:j()("pa2 pointer ",t),style:{userSelect:"none"},onClick:i},r),o)};E.defaultProps={dark:!1,mild:!1,className:"",disabled:!1,onClick:null};var N=E,O=n(3),w=n(197),S=n(198),G=n(199),R=n(200),A=O.oneOf(w),T=O.oneOf(["run","entrypoint"]),q=O.shape({id:O.string.isRequired,name:O.string.isRequired,type:O.string.isRequired,invalid:O.bool,config:O.object}),I=(O.shape({version:O.string.isRequired,general:O.shape({name:O.string,shell:O.string,workdir:O.string,env_variables:O.arrayOf(O.shape({key:O.string,value:O.string})).isRequired,invalid:O.bool}),base_docker:O.shape({image_url:O.string,os:A,custom:O.bool,presetBase:O.string,invalid:O.bool}).isRequired,run_steps:O.arrayOf(q).isRequired,entrypoint_steps:O.arrayOf(q).isRequired,invalid:O.bool}),O.shape({type:O.oneOf(["add_run_step","add_entrypoint_step","edit_run_step","edit_entrypoint_step","edit_general","edit_docker","edit_dockerfile"]).isRequired,stepToEdit:q,text:O.string}),{label:O.node,name:O.string.isRequired,description:O.node,condition:O.object}),B=O.shape(Object(r.a)({},I,{type:O.oneOf(["text"]).isRequired,regex:O.string,required:O.bool,disabled:O.bool})),F=O.shape({iconClass:O.string,name:O.string.isRequired}),$=O.shape(Object(r.a)({},I,{type:O.oneOf(["choice"]).isRequired,options:O.arrayOf(F).isRequired})),V=O.oneOfType([O.string,O.shape({name:O.string.isRequired,unique:O.bool})]),M=O.shape(Object(r.a)({},I,{type:O.oneOf(["table"]).isRequired,headers:O.arrayOf(V).isRequired,transform:O.oneOf(["field","flatarray"])})),H=O.shape({tagList:O.arrayOf(O.string).isRequired,name:O.string.isRequired}),z=O.shape(Object(r.a)({},I,{type:O.oneOf(["tag-group"]).isRequired,groupLabels:O.arrayOf(O.node).isRequired,tags:O.arrayOf(H).isRequired})),J=O.oneOfType([B,$,M,z]),K=O.shape({name:O.string.isRequired,description:O.string,type:O.string.isRequired,command:O.arrayOf(T).isRequired,os:O.arrayOf(A).isRequired,config:O.arrayOf(J),configFinalize:O.func,defaultConfig:O.object,icon:O.string}),W=O.shape({id:O.number.isRequired,name:O.string.isRequired,author:O.string.isRequired,baseType:O.string.isRequired,createdAt:O.string.isRequired,defaultConfig:O.object.isRequired}),Y=(O.arrayOf(W),O.oneOf([K,W]),n(53)),Q=n(105),X=n.n(Q),Z=[n(208),n(209),n(210),n(211),n(212),n(213),n(214)];var ee=Object(y.memoize)(function(e){return Z.find(function(t){return t.type===e})}),te=Object(y.memoize)(function(e){var t=ee(e);if(!t)throw new Error("Missing step prototype for ".concat(e));return t.config}),ne=n(48),ae={field:{condition:function(e,t){return"table"===t.type&&2===t.headers.length},load:function(e){return Object.entries(e).map(function(e){var t=Object(Y.a)(e,2);return{key:t[0],value:t[1]}})},save:function(e,t){return Object(y.fromPairs)(e.map(function(e){return t.headers.map(function(t){var n=t.name;return e[n]})}))}},flatarray:{condition:function(e,t){return"table"===t.type&&1===t.headers.length},load:function(e,t){return e.map(function(e){return Object(ne.a)({},t.headers[0].name,e)})},save:function(e,t){return e.map(function(e){return e[t.headers[0].name]})}}},ie=function(e,t,n){var a=Object(y.cloneDeep)(t);return e.forEach(function(e){if(e.condition&&(n?t.config:t)[e.condition.name]!==e.condition.equals)delete(n?a.config:a)[e.name];else{var i=e.transform&&ae[e.transform],o=n?t.config[e.name]:t[e.name];void 0!==o&&i&&i.condition(o,e)&&((n?a.config:a)[e.name]=i.save(o,e))}}),a},oe=function(e,t,n){var a=Object(y.cloneDeep)(t);return e.forEach(function(e){var i=e.transform&&ae[e.transform],o=n?t.config[e.name]:t[e.name];void 0!==o&&i&&i.condition(o,e)&&((n?a.config:a)[e.name]=i.load(o,e))}),a};function re(e,t){try{if(Array.isArray(e))return e.every(function(e){return!(!e.condition||t[e.condition.name]===e.condition.equals)||re(e,t[e.name])});if("text"===e.type){var n=e.regex;return(!e.required||t)&&(!n||new RegExp(n).test(t))}return"table"!==e.type||e.headers.filter(function(e){return"object"===typeof e&&e.unique}).map(function(e){return e.name}).every(function(e){return Object(y.uniq)(t.map(function(t){return t[e]})).length===t.length})}catch(a){return!1}}function se(e,t){var n={version:e.version};n.general=t(G,e.general),n.base_docker=t(S,e.base_docker);var a=[e.run_steps,e.entrypoint_steps].map(function(e){return e.map(function(e){return t(te(e.type),e,!0)})}),i=Object(Y.a)(a,2);return n.run_steps=i[0],n.entrypoint_steps=i[1],n}function ce(e){var t=se(e,ie);return[t.run_steps,t.entrypoint_steps].forEach(function(e){return e.forEach(function(e){e.step_type=e.type,delete e.type,delete e.id})}),Object.assign(t,t.general),delete t.general,t}(function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={loading:!1},n.fileInput=a.createRef(),n.handleFiles=n.handleFiles.bind(Object(g.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"handleFiles",value:function(){var e=this,t=this.props.onUpdate,n=this.fileInput.current.files[0];if(n){this.setState({loading:!0});var a=new FileReader;a.onload=function(n){try{var a=_.safeLoad(n.target.result);t(((i=a).general={},["name","shell","env_variables","workdir"].forEach(function(e){i.general[e]=i[e],delete i[e]}),[i.run_steps,i.entrypoint_steps].forEach(function(e){return e.forEach(function(e){e.id=X()(),e.type=e.step_type,delete e.step_type})}),se(i,oe)))}catch(o){b.a.error("The imported file is invalid: ".concat(o),{position:"bottom-right"})}var i;e.fileInput.current.value=null,e.setState({loading:!1})},a.readAsText(n)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.config,i=t.onReset,o=t.onSwitchContent,r=t.invalid,s=this.state.loading;return a.createElement("div",{className:"f3  h3 bg-white"},a.createElement("div",{className:"pa3 flex justify-between items-center mw9",style:{margin:"0 auto"}},a.createElement("div",null,"Project Title"),a.createElement("div",{className:"f5"},a.createElement(N,{dark:!0,onClick:i,disabled:s},"Reset"),a.createElement(N,{dark:!0,onClick:function(){e.fileInput.current.click()},disabled:s},"Import Config"),a.createElement("input",{ref:this.fileInput,type:"file",accept:"text/x-yaml|application/json",style:{display:"none"},onChange:this.handleFiles}),a.createElement(N,{dark:!0,onClick:function(){var e=new Blob([_.safeDump(ce(n))],{type:"text/x-yaml"});k.a.saveAs(e,"".concat(n.general.name,".yaml"))}},"Export Config"),a.createElement(N,{dark:!0,className:"dn",disabled:r,onClick:function(){try{o({type:"edit_dockerfile",text:C(ce(n))})}catch(e){b.a.error("An error occured while generating Dockerfile: ".concat(e),{position:"bottom-right"})}}},"Generate Dockerfile"))))}}]),t}(a.Component)).defaultProps={invalid:!1};var le=function(e){var t=e.name,n=e.warning,i=e.onClick,o=e.selected,r=e.pointer,s=e.children;e.newConfig;return a.createElement("div",{className:j()({"bg-white-80":o,"bg-white hover-bg-white-90 ph4":!o&&!n,"bg-washed-red":n,pointer:r},"h3 pa3 flex items-center justify-between"),style:{userSelect:"none"},onClick:i},a.createElement("div",{className:"flex"},a.createElement("div",null,t)),a.createElement("div",null,n&&a.createElement("i",{className:"f4 dark-red fa fa-exclamation-triangle"}),s))};le.defaultProps={icon:"",onClick:function(){},selected:!1,pointer:!1,warning:!1,children:null};var ue=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.onPropChange()}},{key:"componentDidUpdate",value:function(){this.onPropChange()}},{key:"onPropChange",value:function(){var e=this.props,t=e.onUpdate,n=e.options,a=e.value;if(!n||!n.length)throw new Error("invalid options");a&&n.find(function(e){return e.name===a})||t(n[0].name)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.options,i=e.onUpdate,o=e.value,r=e.disabled;return a.createElement(a.Fragment,null,a.createElement("div",null,t),a.createElement("div",{className:"pt2 pl0"},n.map(function(e){return a.createElement("div",{key:e.name,className:j()({"b--pd":o===e.name,"b--pl":o!==e.name,"c-st":r,pointer:!r},"bg-black-05 ba dib mr2 mb1 pv1 ph2"),style:{userSelect:"none"},onClick:r?null:function(){return i(e.name)}},e.iconClass&&a.createElement("i",{className:j()(e.iconClass,"mr1")}),e.name)})))}}]),t}(a.Component);ue.defaultProps={value:"",disabled:!1};var pe=ue,de=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={invalid:!e.validate(e.value)},n.onChange=n.onChange.bind(Object(g.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onUpdate,a=t.validate,i=e.target.value;a(i)?this.setState({invalid:!1}):this.setState({invalid:!0}),n(i)}},{key:"render",value:function(){var e=this.state.invalid,t=this.props,n=t.value,i=t.label,o=t.disabled;return a.createElement(a.Fragment,null,a.createElement("div",{className:j()({red:e})},i),o?a.createElement("input",{style:{border:0,outline:0,backgroundColor:"white",borderBottom:"2px solid #cdecff"},className:"w-20 ",disabled:!0,value:n}):a.createElement("input",{style:{border:0,outline:0,borderBottom:"1px solid #cdecff"},className:j()({"ba b--red":e},"w-20 "),value:n,onChange:this.onChange}))}}]),t}(a.Component);de.defaultProps={value:"",disabled:!1};var me=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={invalid:!e.validate(e.value)},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e,t,n){var a=this.props.value,i=Object(y.cloneDeep)(a);i[e][t]=n,this.validateAndUpdate(i)}},{key:"onAddRow",value:function(){var e=this.props.value,t=Object(y.cloneDeep)(e);t.push({}),this.validateAndUpdate(t)}},{key:"onRemoveRow",value:function(e){var t=this.props.value,n=Object(y.cloneDeep)(t);n.splice(e,1),this.validateAndUpdate(n)}},{key:"validateAndUpdate",value:function(e){var t=this.props,n=t.onUpdate;(0,t.validate)(e)?this.setState({invalid:!1}):this.setState({invalid:!0}),n(e)}},{key:"render",value:function(){var e=this,t=this.state.invalid,n=this.props,i=n.label,o=n.value,r=n.headers,s=n.disabled,c=r.map(function(e){return"object"===typeof e?e.name:e});return a.createElement(a.Fragment,null,a.createElement("div",{className:j()({red:t})},i),a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(c.length,", auto) min-content")},className:"pv2 w-50 mb4"},c.map(function(e){return a.createElement("div",{key:"header-".concat(e),className:"pb2"},e)}),a.createElement("div",null),o.map(function(t,n){return a.createElement(a.Fragment,{key:n},c.map(function(i){return a.createElement("input",{key:i+n,className:"ph2 pv1 w-90",value:t[i]||"",type:"text",onChange:function(t){return e.onChange(n,i,t.target.value)},disabled:s})}),a.createElement(N,{key:n,onClick:function(){return e.onRemoveRow(n)},disabled:s},a.createElement("i",{className:"fa fa-remove"})))})),a.createElement("div",{className:"mt1"},a.createElement(N,{onClick:function(){return e.onAddRow()},disabled:s},a.createElement("i",{className:"fa fa-plus mr1"}),a.createElement("span",null,"Add"))))}}]),t}(a.Component);me.defaultProps={value:[],disabled:!1};var ge=n(144),he=Symbol("Result"),ye=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).getReverseLookup=Object(ge.a)(function(e){var t={};return e.forEach(function(e){t[e.name]=e.tagList}),t}),n.getTagTree=Object(ge.a)(function(e){var t={};return e.forEach(function(e){var n=e.tagList,a=t;n.forEach(function(e){a[e]||(a[e]={}),a=a[e]}),a[he]=e.name}),t}),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onUpdate;e.value||t(this.getOrDefaultChosen().result)}},{key:"onChange",value:function(e,t){console.log(e,t);var n=this.props,a=n.onUpdate,i=n.tags,o=n.value,r=o&&this.getReverseLookup(i)[o]||[],s=this.getOrDefaultChosen([].concat(Object(v.a)(r.slice(0,e)),[t])),c=s.parts;a(s.result||c.reduce(function(e,t){return e[t]},this.getTagTree(i))[he])}},{key:"getOrDefaultChosen",value:function(e){var t=this.props,n=t.groupLabels,a=t.tags,i=e||[];if(i.length<n.length){for(var o=this.getTagTree(a),r=Object(y.cloneDeep)(i),s=0;s<n.length;s+=1){if(!r[s]){var c=Object.keys(o),l=Object(Y.a)(c,1);r[s]=l[0]}o=o[r[s]]}return{parts:r,result:o[he]}}return{parts:i}}},{key:"render",value:function(){for(var e=this,t=this.props,n=t.label,i=t.value,o=t.groupLabels,r=t.tags,s=t.disabled,c=this.getOrDefaultChosen(i&&this.getReverseLookup(r)[i]||[]).parts,l=[],u=this.getTagTree(r),p=function(t){l.push(a.createElement("div",{className:"pt3 pb1 f6"},a.createElement(pe,{key:o[t],label:o[t],options:Object.keys(u).map(function(e){return{name:e}}),value:c[t],onUpdate:function(n){return e.onChange(t,n)},disabled:s}))),u=u[c[t]]},d=0;d<o.length;d+=1)p(d);return a.createElement(a.Fragment,null,a.createElement("div",null,n),a.createElement("div",null,l))}}]),t}(a.Component);ye.defaultProps={value:"",disabled:!1};var fe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"onUpdate",value:function(e,t){var n=this.props.onUpdate,a={};a[e]=t,n(a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.settings,i=t.value,o=t.disabled;return n.map(function(t,n){var r=t.label;if(r||(r=t.name),t.condition&&i[t.condition.name]!==t.condition.equals)return null;var s=null;switch(t.type){case"text":s=a.createElement(de,{label:r,value:i[t.name],onUpdate:function(n){return e.onUpdate(t.name,n)},validate:function(e){return re(t,e)},disabled:t.disabled||o});break;case"choice":s=a.createElement(pe,{label:r,value:i[t.name],onUpdate:function(n){return e.onUpdate(t.name,n)},options:t.options,disabled:o});break;case"table":s=a.createElement(me,{label:r,value:i[t.name],onUpdate:function(n){return e.onUpdate(t.name,n)},validate:function(e){return re(t,e)},headers:t.headers,disabled:o});break;case"tag-group":s=a.createElement(ye,{label:r,value:i[t.name],onUpdate:function(n){return e.onUpdate(t.name,n)},groupLabels:t.groupLabels,tags:t.tags,disabled:o});break;default:throw new Error("invalid setting type ".concat(t.type))}return a.createElement("div",{className:j()({pt3:n>0,pt1:0===n},"pt3 pb3 f6 bt b--near-white"),key:t.name},s,a.createElement("div",{className:"bt b--near-white"}))})}}]),t}(a.Component);fe.defaultProps={disabled:!1};var be=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).onNameChange=function(e){n.submitChange(e.target.name,e.target.value)},n.onConfigChange=function(e){n.submitChange("config",Object(r.a)({},n.editingStep.config,e))},n.onSaveInfoChange=function(e){var t=n.state.saveInfo,a=Object(r.a)({},Object(y.cloneDeep)(t),e);a.invalid=!re(R,a),n.setState({saveInfo:a})},n.onLeaveSavingMode=function(){n.setState({saving:!1})},n.delete=function(){var e=n.props,t=e.onUpdate,a=e.config,i=e.type,o=e.stepToEdit,r=e.onSwitchContent,s="".concat(i,"_steps"),c=Object(y.cloneDeep)(a[s]),l=c.findIndex(function(e){return e.id===o.id});c.splice(l,1),t(Object(ne.a)({},s,c)),c.length?l===c.length?r({type:"edit_".concat(i,"_step"),stepToEdit:c[l-1]}):r({type:"edit_".concat(i,"_step"),stepToEdit:c[l]}):r({type:"edit_general"})},n.save=function(){n.onLeaveSavingMode()},n.state={editingName:!e.stepToEdit.name,saving:!1,saveInfo:{invalid:!0}},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"submitChange",value:function(e,t){var n=this.props,a=n.onUpdate,i=n.config,o=n.type,r=Object(y.cloneDeep)(this.editingStep);r[e]=t;var s="".concat(o,"_steps"),c=Object(y.cloneDeep)(i[s]);c[c.findIndex(function(e){return e.id===r.id})]=r,a(Object(ne.a)({},s,c))}},{key:"render",value:function(){var e=this,t=this.editingStep,n=this.state,i=n.editingName,o=n.saving,r=n.saveInfo,s=t?ee(t.type):"";return s?a.createElement("div",{className:"bg-white pa3 bt b--near-white ml3"},a.createElement("div",{className:"mt2 fr"},a.createElement(N,{onClick:this.delete},a.createElement("i",{className:"fa fa-trash mr1"}),"Delete")),a.createElement("div",{className:"f3 mv2"},i?a.createElement("input",{name:"name",className:j()({"ba b--red":!t.name}),onChange:this.onNameChange,onBlur:function(){return t.name&&e.setState({editingName:!1})},value:t.name}):a.createElement(a.Fragment,null,a.createElement("span",null,t.name),a.createElement("i",{className:"f5 ml2 fa fa-edit hover-black-70 pointer dn",onClick:function(){return e.setState({editingName:!0})}}))),s.name!==t.name&&a.createElement("div",{className:"c-st mv2"},"(Base step: ",s.name,")"),o&&a.createElement(a.Fragment,null,a.createElement(fe,{settings:R,onUpdate:this.onSaveInfoChange,value:r}),a.createElement("div",{className:"flex justify-between"},a.createElement("div",null,a.createElement(N,{className:"dib mt2",onClick:this.onLeaveSavingMode},a.createElement("i",{className:"fa fa-times mr1"}),"Cancel")),a.createElement("div",null,a.createElement(N,{className:"dib mt2",onClick:this.save,disabled:r.invalid},a.createElement("i",{className:"fa fa-save mr1"}),"Save"))),a.createElement("hr",null)),a.createElement(fe,{settings:te(t.type),onUpdate:this.onConfigChange,value:t.config,disabled:o})):a.createElement("div",null)}},{key:"editingStep",get:function(){var e=this.props,t=e.stepToEdit,n=e.config,a=e.type;console.log(a);var i=n["".concat(a,"_steps")];return console.log(i),i.find(function(e){return e.id===t.id})}}]),t}(a.Component),ve=[n(215),n(216),n(217),n(218)],Pe=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={selectedCard:"",editing:!1,editingSavedStep:{}},n.onConfigChange=function(e){var t=n.state.editingSavedStep,a=Object(y.cloneDeep)(t);a.defaultConfig=Object(r.a)({},a.defaultConfig,e),a.defaultConfig.invalid=!re(te(t.baseType),a.defaultConfig),n.setState({editingSavedStep:a})},n.onConfigSave=function(){n.onEdit(null)},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"onSelect",value:function(e){this.setState({selectedCard:e,editingSavedStep:{},editing:!1})}},{key:"onEdit",value:function(e){e?this.setState({editingSavedStep:e,editing:!0}):this.setState({editingSavedStep:{},editing:!1})}},{key:"renderBaseStepList",value:function(e){var t=this,n=this.props,i=n.content,o=n.config,r=n.type,s=n.onUpdate,c=n.onSwitchContent;this.state.selectedCard;return a.createElement("ul",{className:"list pl4"},e.map(function(e,n){return a.createElement("li",{className:"cb pv3 bt b--near-white ",key:n},a.createElement("span",{className:"pointer h3 mv7 ",onClick:function(t){t.stopPropagation();var n="".concat(r,"_steps"),a={id:X()(),name:e.name,type:e.type,config:e.defaultConfig||{}};e.config&&!e.config.every(function(e){return e.optional})&&(a.invalid=!0);var i=Object(y.cloneDeep)(o[n]);i.push(a),s(Object(ne.a)({},n,i),function(e,t){c(t?{type:"add_run_step",stepToEdit:e}:{type:"add_entrypoint_step",stepToEdit:e})})}},e.name),a.createElement("i",{className:i.stepToEdit&&i.stepToEdit.type===e.type?"fr f7 ms-Icon ms-Icon--ChevronUpMed black-30":"fr f7 ms-Icon ms-Icon--ChevronDownMed black-30","aria-hidden":"true"}),i.stepToEdit&&i.stepToEdit.type===e.type?a.createElement(be,Object.assign({type:"run",key:i.stepToEdit.id,stepToEdit:i.stepToEdit,onUpdate:s},t.props)):"")}))}},{key:"render",value:function(){var e,t,n=this.props,i=n.config,o=n.type,r=(n.content,e=o,t=i.base_docker.os,Z.filter(function(n){return n.command.includes(e)&&n.os.includes(t)}));return a.createElement("div",null,this.renderBaseStepList(r))}}]),t}(a.Component),Ue=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).onChange=n.onChange.bind(Object(g.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){var t=this.props,n=t.config;(0,t.onUpdate)({general:Object(r.a)({},Object(y.cloneDeep)(n.general),e)})}},{key:"render",value:function(){var e=this.props.config;return a.createElement("div",{className:"ph4 bg-white pa3 pt0 f6"},a.createElement(fe,{settings:G,value:e.general,onUpdate:this.onChange}))}}]),t}(a.Component),Ce=function(e){var t=e.onClick,n=e.index,i=e.id;return a.createElement(N,{className:"fr",onClick:t},a.createElement("i",{className:n===i?"fr f7 ms-Icon ms-Icon--ChevronUpMed black-30":"f7 ms-Icon ms-Icon--ChevronDownMed black-30","aria-hidden":"true"}))},Le=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={id:"",isShow:!0},n.getPreset=Object(y.memoize)(function(e){return ve.find(function(t){return t.base===e})}),n.onPresetUpdate=function(e){var t=e.tag,a=n.props.config,i=Object(y.cloneDeep)(a.base_docker);i.image_url="".concat(i.presetBase,":").concat(t),i.os="ubuntu",n.update(i)},n.onCustomUpdate=function(e){var t=n.props.config;n.update(Object(r.a)({},Object(y.cloneDeep)(t.base_docker),e))},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"onPresetChosen",value:function(e,t){var n;this.state.id;this.setState({id:t}),n=e?"Custom"===e?{custom:!0}:{presetBase:e.base}:{},console.log(n),this.update(n)}},{key:"update",value:function(e){var t=this.props,n=t.onUpdate,a=t.config;if(e.os){var i=function(t){return ee(t.type).os.includes(e.os)};n({run_steps:a.run_steps.filter(i),entrypoint_steps:a.entrypoint_steps.filter(i),base_docker:e})}else n({base_docker:e})}},{key:"render",value:function(){var e=this,t=this.props.config.base_docker,n=this.state.id;if(t.custom&&(this.a=a.createElement("div",{className:"bg-white pa3"},a.createElement("div",{className:"f3 mv2"},"Custom Base Docker"),a.createElement(fe,{settings:S,value:t,onUpdate:this.onCustomUpdate}))),t.presetBase){var i=this.getPreset(t.presetBase);this.a=a.createElement("div",{className:"bg-white pa3"},a.createElement("div",{className:"f3 mv2"},i.name),a.createElement("div",{className:"c-st mv2"},"[Image: ",t.image_url,"]"),a.createElement(fe,{settings:i.config,value:{tag:t.image_url&&t.image_url.split(":").pop()},onUpdate:this.onPresetUpdate}))}return a.createElement("ul",{className:"list pl4 pr1"},ve.map(function(t,i){return a.createElement("li",{className:"cb pv3 bt b--near-white ",key:i},a.createElement("span",{className:"pointer h3 mv7 ",onClick:function(){return e.onPresetChosen(t,i)}},i===n?"":t.name),a.createElement(Ce,{onClick:function(){return e.onPresetChosen(null)},index:i,id:n}),i===n?e.a:a.createElement("div",null))}),a.createElement("li",{className:"cb pv3 bt-m bt bb b--near-white"},a.createElement("span",{className:"h3 mv7 pointer",onClick:function(){return e.onPresetChosen("Custom",4)}},4===n?"":"custom"),a.createElement(Ce,{onClick:function(){return e.onPresetChosen(null)},index:4,id:n}),4===n?this.a:a.createElement("div",null)))}}]),t}(a.Component),ke=(n(521),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){n.setState({content:e.target.value})},n.onEdit=function(){n.setState({editing:!0})},n.onCopy=function(){var e=n.state.switchColor;n.setState({switchColor:!e}),n.textArea.current.select(),console.log(Object(g.a)(n)),document.execCommand("copy")},n.onSave=function(){var e=n.state.content;k.a.saveAs(new Blob([e]),"Dockerfile")},n.state={editing:!1,content:e.text,switchColor:""},n.textArea=i.a.createRef(),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.content,n=e.editing;e.switchColor;return i.a.createElement("div",{className:"bg-white pa3 f6 mh3 bt b--near-white"},i.a.createElement("div",null,"Content"),i.a.createElement("textarea",{ref:this.textArea,className:"mt2 w-100 bg-black white",style:{height:"96rem",maxHeight:"50vh"},value:t,disabled:!n,onChange:this.onChange,spellCheck:!1}),i.a.createElement("div",{className:"mt2"},i.a.createElement("div",null,i.a.createElement(N,{className:"mr2 pa1 ph3 bg-black-05",onClick:this.onCopy},i.a.createElement("span",{className:"black"},"Copy")),i.a.createElement(N,{className:"mr2 pa1 ph3 bg-black-05",onClick:this.onEdit},i.a.createElement("span",{className:"black"},"Edit")),i.a.createElement(N,{className:"mr2 pa1 ph3 bg-black-05",onClick:this.onSave},"Save"))))}}]),t}(i.a.Component)),_e={add_run_step:"Add Run Step",add_entrypoint_step:"Add Entrypoint Step",edit_run_step:"Edit Run Step",edit_entrypoint_step:"Edit Entrypoint Step",edit_general:"General Config",edit_docker:"Base Docker",edit_dockerfile:"Generated Dockerfile"},De=function(e){var t=e.config,n=e.content,i=e.onUpdate,o=e.onSwitchContent,r=(e.invalid,e.addRunStep),s=e.addEnStep,c=_e[n.type],l="Edit Run Step"===c,u="Edit Entrypoint Step"===c,p=(t.base_docker.custom,{content:n,config:t,onUpdate:i,onSwitchContent:o});return a.createElement("div",{className:"black mt3 relative"},a.createElement("div",{className:"pl4 mb3 h2 flex items-center black"},_e[n.type],a.createElement("i",{className:"f7 ml3 ms-Icon ms-Icon--ChevronRight black-30","aria-hidden":"true"}),a.createElement("span",null,l?r.name:u?s.name:""),"Base Docker"===c?a.createElement(N,{className:"absolute-l right-0-l",onClick:function(){return i({base_docker:{}})}},"Delete"):"",l||u?a.createElement(N,{className:"absolute-l right-0-l",onClick:function(){return o(l?{type:"add_run_step"}:{type:"add_entrypoint_step"})}},a.createElement("i",{className:"mr2 f7 ms-Icon ms-Icon--RevToggleKey","aria-hidden":"true"}),a.createElement("span",null,"Back")):""),function(){switch(n.type){case"add_run_step":return a.createElement(Pe,Object.assign({type:"run"},p));case"add_entrypoint_step":return a.createElement(Pe,Object.assign({type:"entrypoint"},p));case"edit_run_step":return a.createElement(be,Object.assign({type:"run",key:n.stepToEdit.id,stepToEdit:n.stepToEdit,onUpdate:i},p));case"edit_entrypoint_step":return a.createElement(be,Object.assign({type:"entrypoint",key:n.stepToEdit.id,stepToEdit:n.stepToEdit,onUpdate:i},p));case"edit_general":return a.createElement(Ue,p);case"edit_docker":return a.createElement(Le,p);case"edit_dockerfile":return a.createElement(ke,{text:n.text,key:n.text});default:return null}}())},xe=n(536),je=(n(522),n(537));Object(je.a)();var Ee=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={step:null,selectedKey:""},n._onLinkClick=function(e,t){var a,i,o=n.props,r=o.config,s=r.run_steps,c=r.entrypoint_steps,l=(o.content,o.onUpdate,o.onSwitchContent),u=o.addSteps,p=t.key;switch("string"===typeof t.key){case"edit_general"===p:l({type:"edit_general"});break;case"edit_docker"===p:l({type:"edit_docker"});break;case"add_run_step"===p:l({type:"add_run_step"});break;case"add_entrypoint_step"===p:l({type:"add_entrypoint_step"})}var d=Object(y.cloneDeep)(c),m=Object(y.cloneDeep)(s),g=m.findIndex(function(e){return a=e.id,e.id===t.key}),h=d.findIndex(function(e){return i=e.id,e.id===t.key});a===t.key?(u(m[g],"run"),l({type:"edit_run_step",stepToEdit:s[g]})):i===t.key&&(u(c[h]),l({type:"edit_entrypoint_step",stepToEdit:c[h]}))},n.getStep=function(e){return e.map(function(e){return{name:e.name,key:e.id}})},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.querySelectorAll("button").forEach(function(e){e.title=""})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.config,i=e.config,o=i.run_steps,r=i.entrypoint_steps;return this.run_steps=this.getStep(o),this.entrypoint_steps=this.getStep(r),a.createElement(xe.a,{initialSelectedKey:"edit_general",selectedKey:t.stepToEdit?t.stepToEdit.id:t.type,onLinkClick:this._onLinkClick,styles:{root:{width:310},link:{height:60,whiteSpace:"pre",lineHeight:14}},groups:[{links:[{name:"General\n"+"".concat(n.general.name||""),key:"edit_general",icon:n.general.name?"Completed":"warning"},{name:"From\n"+"".concat(n.base_docker.image_url||""),key:"edit_docker",icon:n.base_docker.image_url?"Completed":"warning"},{name:"Run",key:"add_run_step",links:this.run_steps,isExpanded:!0},{name:"Entrypoint",key:"add_entrypoint_step",links:this.entrypoint_steps,isExpanded:!0}]}]})}}]),t}(a.Component),Ne={version:"1",general:{name:"noname",shell:"bash -c",env_variables:[],workdir:"~"},base_docker:{invalid:!0},run_steps:[],entrypoint_steps:[],invalid:!0},Oe=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={config:Ne,content:{type:"edit_general"},addRunStep:null,addEnStep:null,savedSteps:[]},n.onUpdate=n.onUpdate.bind(Object(g.a)(n)),n.onSwitchContent=n.onSwitchContent.bind(Object(g.a)(n)),n.onReset=n.onReset.bind(Object(g.a)(n)),n.addSteps=n.addSteps.bind(Object(g.a)(n)),n.delFromDocker=n.delFromDocker.bind(Object(g.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("icecream-last-state"))try{n=JSON.parse(t),this.setState(n)}catch(a){b.a.warning("Failed to load last state.")}case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delFromDocker",value:function(){}},{key:"componentDidUpdate",value:function(){localStorage.setItem("icecream-last-state",JSON.stringify(this.state))}},{key:"onReset",value:function(){this.setState({config:Object(y.cloneDeep)(Ne),content:{type:"edit_general"}})}},{key:"addSteps",value:function(e,t){t?this.setState({addRunStep:e}):this.setState({addEnStep:e})}},{key:"onUpdate",value:function(e,t){console.log(e);var n=this.state,a=n.config,i=n.content,o=function(e){var t=!1,n=se(e,function(e,n,a){var i=a?!re(e,n.config)||!n.name:!re(e,n);return t=t||i,Object(r.a)({},n,{invalid:i})});return t&&(n.invalid=!0),n}(Object(r.a)({},Object(y.cloneDeep)(a),e));if("edit_run_step"===i.type){var s,c=i.stepToEdit.id,l=Object(y.find)(o.run_steps,{id:c});s=l?{type:"edit_run_step",stepToEdit:l}:{type:"edit_general"},this.setState({content:s,config:o})}else if("edit_entrypoint_step"===i.type){var u,p=i.stepToEdit.id,d=Object(y.find)(o.entrypoint_steps,{id:p});u=d?{type:"edit_entrypoint_step",stepToEdit:d}:{type:"edit_general"},this.setState({content:u,config:o})}else this.setState({config:o},function(){"add_run_step"===i.type&&t?o.run_steps.map(function(e){t(e,"add_run_step")}):"add_entrypoint_step"===i.type&&t&&o.entrypoint_steps.map(function(e){t(e)})})}},{key:"onSwitchContent",value:function(e){this.setState({content:e})}},{key:"componentDidCatch",value:function(e){b.a.error(e.toString(),{position:"bottom-right"})}},{key:"render",value:function(){var e=this,t=this.state,n=t.config,i=t.content,o=(t.invalid,t.addRunStep),r=t.addEnStep;return a.createElement("div",{className:"helvetica flex flex-column vh-100"},a.createElement("div",{className:"flex self-stretch flex-auto"},a.createElement("div",{className:"flex flex-auto mw9 center"},a.createElement("div",{className:"w-20 ml1 br b--near-white bw1 flex flex-column justify-between pb2"},a.createElement("div",{className:"overflow-hidden"},a.createElement(Ee,{addSteps:this.addSteps,config:n,content:i,onUpdate:this.onUpdate,onSwitchContent:this.onSwitchContent})),a.createElement("div",{style:{flexGrow:0}},a.createElement(N,{className:n.invalid?"db w-60 bg-black-10 mid-gray  mb5 c-t tc center":"db w-60 bg-blue mid-gray  mb5 c-t tc center",disabled:n.invalid,dark:!0,onClick:function(){try{e.onSwitchContent({type:"edit_dockerfile",text:C(ce(n))})}catch(t){b.a.error("An error occured while generating Dockerfile: ".concat(t),{position:"bottom-right"})}}},"Generate Dockerfile"))),a.createElement("div",{className:"w-70 pb4 mh2 overflow-y-auto"},a.createElement(De,{delFromDocker:this.delFromDocker,addEnStep:r,addRunStep:o,content:i,config:n,onUpdate:this.onUpdate,onSwitchContent:this.onSwitchContent})))),a.createElement(b.a,{stack:{limit:3}}))}}]),t}(a.Component);Object(o.render)(a.createElement(Oe,null),document.getElementById("content"))}},[[223,1,2]]]);
//# sourceMappingURL=main.250e0cc6.chunk.js.map